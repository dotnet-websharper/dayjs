var nr=Object.defineProperty;var rr=(e,t,n)=>t in e?nr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var c=(e,t,n)=>rr(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();document.write("");function ct(e,t){return Object.assign(Object.create(e.prototype),t)}const sr=Symbol("force");function ft(e){var t;function n(){return t||(t=e(s=>t=s)),t}return new Proxy(Function(),{get(s,i){return i==sr&&n(),n()[i]},set(s,i,l){return n()[i]=l,!0},construct(s,i,l){return Reflect.construct(n(),i,l)}})}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];e[r]===void 0&&delete e[r]}return e}function Yt(e){return e===void 0?null:{$:1,$0:e}}function Kt(e,t,n){n?e[t]=n.$0:delete e[t]}function lr(e){return function(...t){return e(t)}}function or(e){return Object.defineProperty(e,"resizable",{enumerable:!1,writable:!1,configurable:!1,value:!0}),e}let ae=[];function ur(e){ae.push(e)}function cr(){for(var e=0;e<ae.length;e++)ae[e]();ae=[]}function fn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fe={exports:{}},ar=fe.exports,Ze;function fr(){return Ze||(Ze=1,function(e,t){(function(n,r){e.exports=r()})(ar,function(){var n=1e3,r=6e4,s=36e5,i="millisecond",l="second",o="minute",a="hour",d="day",w="week",A="month",g="quarter",x="year",O="date",C="Invalid Date",G=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,V=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var p=["th","st","nd","rd"],m=S%100;return"["+S+(p[(m-20)%10]||p[m]||p[0])+"]"}},u=function(S,p,m){var v=String(S);return!v||v.length>=p?S:""+Array(p+1-v.length).join(m)+S},h={s:u,z:function(S){var p=-S.utcOffset(),m=Math.abs(p),v=Math.floor(m/60),y=m%60;return(p<=0?"+":"-")+u(v,2,"0")+":"+u(y,2,"0")},m:function S(p,m){if(p.date()<m.date())return-S(m,p);var v=12*(m.year()-p.year())+(m.month()-p.month()),y=p.clone().add(v,A),E=m-y<0,D=p.clone().add(v+(E?-1:1),A);return+(-(v+(m-y)/(E?y-D:D-y))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:A,y:x,w,d,D:O,h:a,m:o,s:l,ms:i,Q:g}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},f="en",$={};$[f]=L;var T="$isDayjsObject",M=function(S){return S instanceof U||!(!S||!S[T])},W=function S(p,m,v){var y;if(!p)return f;if(typeof p=="string"){var E=p.toLowerCase();$[E]&&(y=E),m&&($[E]=m,y=E);var D=p.split("-");if(!y&&D.length>1)return S(D[0])}else{var I=p.name;$[I]=p,y=I}return!v&&y&&(f=y),y||!v&&f},k=function(S,p){if(M(S))return S.clone();var m=typeof p=="object"?p:{};return m.date=S,m.args=arguments,new U(m)},b=h;b.l=W,b.i=M,b.w=function(S,p){return k(S,{locale:p.$L,utc:p.$u,x:p.$x,$offset:p.$offset})};var U=function(){function S(m){this.$L=W(m.locale,null,!0),this.parse(m),this.$x=this.$x||m.x||{},this[T]=!0}var p=S.prototype;return p.parse=function(m){this.$d=function(v){var y=v.date,E=v.utc;if(y===null)return new Date(NaN);if(b.u(y))return new Date;if(y instanceof Date)return new Date(y);if(typeof y=="string"&&!/Z$/i.test(y)){var D=y.match(G);if(D){var I=D[2]-1||0,R=(D[7]||"0").substring(0,3);return E?new Date(Date.UTC(D[1],I,D[3]||1,D[4]||0,D[5]||0,D[6]||0,R)):new Date(D[1],I,D[3]||1,D[4]||0,D[5]||0,D[6]||0,R)}}return new Date(y)}(m),this.init()},p.init=function(){var m=this.$d;this.$y=m.getFullYear(),this.$M=m.getMonth(),this.$D=m.getDate(),this.$W=m.getDay(),this.$H=m.getHours(),this.$m=m.getMinutes(),this.$s=m.getSeconds(),this.$ms=m.getMilliseconds()},p.$utils=function(){return b},p.isValid=function(){return this.$d.toString()!==C},p.isSame=function(m,v){var y=k(m);return this.startOf(v)<=y&&y<=this.endOf(v)},p.isAfter=function(m,v){return k(m)<this.startOf(v)},p.isBefore=function(m,v){return this.endOf(v)<k(m)},p.$g=function(m,v,y){return b.u(m)?this[v]:this.set(y,m)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(m,v){var y=this,E=!!b.u(v)||v,D=b.p(m),I=function(vt,et){var $t=b.w(y.$u?Date.UTC(y.$y,et,vt):new Date(y.$y,et,vt),y);return E?$t:$t.endOf(d)},R=function(vt,et){return b.w(y.toDate()[vt].apply(y.toDate("s"),(E?[0,0,0,0]:[23,59,59,999]).slice(et)),y)},P=this.$W,B=this.$M,J=this.$D,ot="set"+(this.$u?"UTC":"");switch(D){case x:return E?I(1,0):I(31,11);case A:return E?I(1,B):I(0,B+1);case w:var ut=this.$locale().weekStart||0,It=(P<ut?P+7:P)-ut;return I(E?J-It:J+(6-It),B);case d:case O:return R(ot+"Hours",0);case a:return R(ot+"Minutes",1);case o:return R(ot+"Seconds",2);case l:return R(ot+"Milliseconds",3);default:return this.clone()}},p.endOf=function(m){return this.startOf(m,!1)},p.$set=function(m,v){var y,E=b.p(m),D="set"+(this.$u?"UTC":""),I=(y={},y[d]=D+"Date",y[O]=D+"Date",y[A]=D+"Month",y[x]=D+"FullYear",y[a]=D+"Hours",y[o]=D+"Minutes",y[l]=D+"Seconds",y[i]=D+"Milliseconds",y)[E],R=E===d?this.$D+(v-this.$W):v;if(E===A||E===x){var P=this.clone().set(O,1);P.$d[I](R),P.init(),this.$d=P.set(O,Math.min(this.$D,P.daysInMonth())).$d}else I&&this.$d[I](R);return this.init(),this},p.set=function(m,v){return this.clone().$set(m,v)},p.get=function(m){return this[b.p(m)]()},p.add=function(m,v){var y,E=this;m=Number(m);var D=b.p(v),I=function(B){var J=k(E);return b.w(J.date(J.date()+Math.round(B*m)),E)};if(D===A)return this.set(A,this.$M+m);if(D===x)return this.set(x,this.$y+m);if(D===d)return I(1);if(D===w)return I(7);var R=(y={},y[o]=r,y[a]=s,y[l]=n,y)[D]||1,P=this.$d.getTime()+m*R;return b.w(P,this)},p.subtract=function(m,v){return this.add(-1*m,v)},p.format=function(m){var v=this,y=this.$locale();if(!this.isValid())return y.invalidDate||C;var E=m||"YYYY-MM-DDTHH:mm:ssZ",D=b.z(this),I=this.$H,R=this.$m,P=this.$M,B=y.weekdays,J=y.months,ot=y.meridiem,ut=function(et,$t,Ut,ue){return et&&(et[$t]||et(v,E))||Ut[$t].slice(0,ue)},It=function(et){return b.s(I%12||12,et,"0")},vt=ot||function(et,$t,Ut){var ue=et<12?"AM":"PM";return Ut?ue.toLowerCase():ue};return E.replace(V,function(et,$t){return $t||function(Ut){switch(Ut){case"YY":return String(v.$y).slice(-2);case"YYYY":return b.s(v.$y,4,"0");case"M":return P+1;case"MM":return b.s(P+1,2,"0");case"MMM":return ut(y.monthsShort,P,J,3);case"MMMM":return ut(J,P);case"D":return v.$D;case"DD":return b.s(v.$D,2,"0");case"d":return String(v.$W);case"dd":return ut(y.weekdaysMin,v.$W,B,2);case"ddd":return ut(y.weekdaysShort,v.$W,B,3);case"dddd":return B[v.$W];case"H":return String(I);case"HH":return b.s(I,2,"0");case"h":return It(1);case"hh":return It(2);case"a":return vt(I,R,!0);case"A":return vt(I,R,!1);case"m":return String(R);case"mm":return b.s(R,2,"0");case"s":return String(v.$s);case"ss":return b.s(v.$s,2,"0");case"SSS":return b.s(v.$ms,3,"0");case"Z":return D}return null}(et)||D.replace(":","")})},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(m,v,y){var E,D=this,I=b.p(v),R=k(m),P=(R.utcOffset()-this.utcOffset())*r,B=this-R,J=function(){return b.m(D,R)};switch(I){case x:E=J()/12;break;case A:E=J();break;case g:E=J()/3;break;case w:E=(B-P)/6048e5;break;case d:E=(B-P)/864e5;break;case a:E=B/s;break;case o:E=B/r;break;case l:E=B/n;break;default:E=B}return y?E:b.a(E)},p.daysInMonth=function(){return this.endOf(A).$D},p.$locale=function(){return $[this.$L]},p.locale=function(m,v){if(!m)return this.$L;var y=this.clone(),E=W(m,v,!0);return E&&(y.$L=E),y},p.clone=function(){return b.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},S}(),K=U.prototype;return k.prototype=K,[["$ms",i],["$s",l],["$m",o],["$H",a],["$W",d],["$M",A],["$y",x],["$D",O]].forEach(function(S){K[S[1]]=function(p){return this.$g(p,S[0],S[1])}}),k.extend=function(S,p){return S.$i||(S(p,U,k),S.$i=!0),k},k.locale=W,k.isDayjs=M,k.unix=function(S){return k(1e3*S)},k.en=$[f],k.Ls=$,k.p={},k})}(fe)),fe.exports}var hr=fr();const he=fn(hr);var de={exports:{}},dr=de.exports,Je;function pr(){return Je||(Je=1,function(e,t){(function(n,r){e.exports=r()})(dr,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(i,l,o){var a=l.prototype;o.utc=function(C){var G={date:C,utc:!0,args:arguments};return new l(G)},a.utc=function(C){var G=o(this.toDate(),{locale:this.$L,utc:!0});return C?G.add(this.utcOffset(),n):G},a.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var d=a.parse;a.parse=function(C){C.utc&&(this.$u=!0),this.$utils().u(C.$offset)||(this.$offset=C.$offset),d.call(this,C)};var w=a.init;a.init=function(){if(this.$u){var C=this.$d;this.$y=C.getUTCFullYear(),this.$M=C.getUTCMonth(),this.$D=C.getUTCDate(),this.$W=C.getUTCDay(),this.$H=C.getUTCHours(),this.$m=C.getUTCMinutes(),this.$s=C.getUTCSeconds(),this.$ms=C.getUTCMilliseconds()}else w.call(this)};var A=a.utcOffset;a.utcOffset=function(C,G){var V=this.$utils().u;if(V(C))return this.$u?0:V(this.$offset)?A.call(this):this.$offset;if(typeof C=="string"&&(C=function(f){f===void 0&&(f="");var $=f.match(r);if(!$)return null;var T=(""+$[0]).match(s)||["-",0,0],M=T[0],W=60*+T[1]+ +T[2];return W===0?0:M==="+"?W:-W}(C),C===null))return this;var L=Math.abs(C)<=16?60*C:C,u=this;if(G)return u.$offset=L,u.$u=C===0,u;if(C!==0){var h=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(u=this.local().add(L+h,n)).$offset=L,u.$x.$localOffset=h}else u=this.utc();return u};var g=a.format;a.format=function(C){var G=C||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,G)},a.valueOf=function(){var C=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*C},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var x=a.toDate;a.toDate=function(C){return C==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():x.call(this)};var O=a.diff;a.diff=function(C,G,V){if(C&&this.$u===C.$u)return O.call(this,C,G,V);var L=this.local(),u=o(C).local();return O.call(L,u,G,V)}}})}(de)),de.exports}var mr=pr();const $r=fn(mr);function lt(e){return"Dispose"in e}function wr(){const e=new he,t=new Cr("New_1"),n=(t.h.push(Wt(t.k,"shownow",()=>t.i,()=>{gr(e)})),t),r=(n.h.push(Wt(n.k,"add7days",()=>n.i,()=>{yr(e)})),n),s=(r.h.push(Wt(r.k,"showformatted",()=>r.i,()=>{Nr(e)})),r),i=(s.h.push(Wt(s.k,"daysuntil2026",()=>s.i,()=>{vr(e)})),s),l=(i.h.push(Wt(i.k,"showutcnow",()=>i.i,()=>{he.extend($r);const g=he.utc();Et().Set("Current UTC Time: "+String(g)+" UTC")})),i),o=(l.h.push(new Mr("result",Et().View)),l),a=xr(o.k,o.h,[]),d=new Ar(a[1],_r(a[0])),A=(o.i=d,d).Doc;wn(""),rt.RunById("main",A)}function Et(){return mn.result}function gr(e){Et().Set("Now: "+e.format())}function yr(e){const t="7 days from now: "+e.add(7,"day").format("YYYY-MM-DD HH:mm:ss");Et().Set(t)}function Nr(e){const t="Today is: "+e.format("dddd, MMMM D, YYYY");Et().Set(t)}function vr(e){const t=new he("2026-01-01").diff(e,"day");Et().Set("Days until 2026: "+String(t))}function X(e){throw new Error(e)}function St(e){return[e.K,e.V]}function Qe(e,t){const n=1+t-e;return n<=0?[]:Jr(n,r=>r+e)}class Z{Equals(t){return this===t}GetHashCode(){return-1}}class Ar extends Z{constructor(n,r){super();c(this,"doc");c(this,"allVars");c(this,"anchorRoot");this.doc=r,this.allVars=n.$==0?n.$0:X("Should not happen"),this.anchorRoot=null}get Doc(){return this.doc}SetAnchorRoot(n){this.anchorRoot=n}}function F(e,t){return dn(e,t),e[t]}function hn(e,t,n){dn(e,t),e[t]=n}function dn(e,t){(t<0||t>=e.length)&&X("Index was outside the bounds of the array.")}function q(e){return e.dims===2?e.length*e.length:e.length}class Cr extends Z{constructor(n){var t=(...to)=>(super(...to),c(this,"i"),c(this,"k"),c(this,"h"),c(this,"s"),this);if(n=="New_1"){let r;t(),this.i=null,this.k=(r=Fr(),String(r)),this.h=or([]),Kt(this,"s",null)}}static New_1(){return new this("New_1")}}class tt extends Z{ForTextView(){return console.warn("Content hole filled with attribute data",this.Name),null}AddAttribute(t,n){console.warn("Var hole filled with non-Var data",this.Name)}get AsChoiceView(){return console.warn("Attribute value hole filled with non-text data",this.Name),He("")}}class Tr extends Z{}function Wt(e,t,n,r){return new $n(t,s=>i=>{const l=n();return l.SetAnchorRoot(s),r({Vars:l,Anchors:l,Target:s,Event:i})})}function xr(e,t,n){const r=new ht("New_5"),s=new at("New_3"),i=j(t);try{for(;i.MoveNext();){const l=i.Current,o=l.Name;s.SAdd(o),r.set_Item(o,l)}}finally{typeof i=="object"&&lt(i)&&i.Dispose()}return[yn(t,Le(l=>{const o=l[0],a=l[1],d=l[2];if(s.Contains(o))return null;{const w=a===0?nt.GetOrAddHoleFor(e,o,()=>{const A=d==null?null:N(d.$0);let g=mt.Create_1(A==null?"":A.$0);return new os(o,g)}):a===1?nt.GetOrAddHoleFor(e,o,()=>{const A=d==null?null:N(d.$0);let g=mt.Create_1(A==null?0:A.$0);return new us(o,g)}):a===2?nt.GetOrAddHoleFor(e,o,()=>{const A=d==null?null:N(d.$0);let g=mt.Create_1(A==null?!1:A.$0);return new cs(o,g)}):a===3?nt.GetOrAddHoleFor(e,o,()=>{const A=d==null?null:N(d.$0);let g=mt.Create_1(A==null?-864e13:A.$0);return new as(o,g)}):a===4?nt.GetOrAddHoleFor(e,o,()=>new fs(o,mt.Create_1([]))):a===5?nt.GetOrAddHoleFor(e,o,()=>new xn(o,mt.Create_1(N(globalThis.document.querySelector("[ws-dom="+o+"]"))))):a===6?nt.GetOrAddHoleFor(e,o,()=>{const A=d==null?null:N(d.$0);let g=mt.Create_1(A==null?[]:A.$0);return new ds(o,g)}):X("Invalid value type");return r.set_Item(o,w),N(w)}},n)),{$:0,$0:r}]}function _(e,t){if(e===t)return!0;{const s=typeof e;if(s=="object"){if(e==null||t===null||t===void 0||!_(typeof t,"object"))return!1;if("Equals"in e)return e.Equals(t);if("Equals"in t)return!1;if(e instanceof Array&&t instanceof Array)return Xe(e,t);if(e instanceof Date&&t instanceof Date)return Sr(e,t);{const i=[!0];for(var n in e)if((l=>(i[0]=!e.hasOwnProperty(l)||t.hasOwnProperty(l)&&_(e[l],t[l]),!i[0]))(n))break;if(i[0]){for(var r in t)if((l=>(i[0]=!t.hasOwnProperty(l)||e.hasOwnProperty(l),!i[0]))(r))break}return i[0]}}else return s=="function"&&("$Func"in e?e.$Func===t.$Func&&e.$Target===t.$Target:"$Invokes"in e&&"$Invokes"in t&&Xe(e.$Invokes,t.$Invokes))}}function Xe(e,t){let n,r;if(q(e)===q(t)){for(n=!0,r=0;n&&r<q(e);)_(F(e,r),F(t,r))||(n=!1),r=r+1;return n}else return!1}function Sr(e,t){return e.getTime()===t.getTime()}function zt(e){const t=typeof e;return t=="function"?0:t=="boolean"?e?1:0:t=="number"?e:t=="string"?pn(e):t=="object"?e==null?0:e instanceof Array?br(e):Er(e):0}function pn(e){let t;if(e===null)return 0;t=5381;for(let n=0,r=e.length-1;n<=r;n++)t=pe(t,e[n].charCodeAt());return t}function br(e){let t=-34948909;for(let n=0,r=q(e)-1;n<=r;n++)t=pe(t,zt(F(e,n)));return t}function Er(e){if("GetHashCode"in e)return e.GetHashCode();{const n=[0];for(var t in e)(r=>(n[0]=pe(pe(n[0],pn(r)),zt(e[r])),!1))(t);return n[0]}}function pe(e,t){return(e<<5)+e+t}function ve(e,t){if(e===t)return 0;{const s=typeof e;switch(s=="function"?1:s=="boolean"||s=="number"||s=="string"?2:s=="object"?3:0){case 0:return typeof t>"u"?0:-1;case 1:return X("Cannot compare function values.");case 2:return e<t?-1:1;case 3:if(e===null)return-1;if(t===null)return 1;if("CompareTo"in e)return e.CompareTo(t);if("CompareTo0"in e)return e.CompareTo0(t);if(e instanceof Array&&t instanceof Array)return Dr(e,t);if(e instanceof Date&&t instanceof Date)return kr(e,t);{const i=[0];for(var n in e)if((l=>e.hasOwnProperty(l)?t.hasOwnProperty(l)?(i[0]=ve(e[l],t[l]),i[0]!==0):(i[0]=1,!0):!1)(n))break;if(i[0]===0){for(var r in t)if((l=>t.hasOwnProperty(l)?!e.hasOwnProperty(l)&&(i[0]=-1,!0):!1)(r))break}return i[0]}}}}function Dr(e,t){let n,r;if(q(e)<q(t))return-1;if(q(e)>q(t))return 1;for(n=0,r=0;n===0&&r<q(e);)n=ve(F(e,r),F(t,r)),r=r+1;return n}function kr(e,t){return ve(e.getTime(),t.getTime())}function _r(e){return wn("index"),e?Or("index",N("main"),e):void 0}class Vr extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}get Value(){return this.fillWith}get AsChoiceView(){return He(this.fillWith)}}class Mr extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return N(this.fillWith)}get AsChoiceView(){return xt(this.fillWith)}}let mn=ft(e=>{var t;return t=class{},mn=e(t),c(t,"result"),t.result=mt.Create_1(""),t});function Fr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]","g"),e=>{const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}class $n extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}get Value(){return this.fillWith}}function N(e){return{$:1,$0:e}}function wn(e){Gr()||(Lr(!0),Ir(globalThis.document.body,"")),Zt().set_Item(e,Ae(""))}function Or(e,t,n){let r;const s=(r=null,[Ae(e).TryGetValue(t==null?"":t.$0,{get:()=>r,set:i=>{r=i}}),r]);return s[0]?Ur(s[1].cloneNode(!0),n):(console.warn("Local template doesn't exist",t),rt.Empty)}function Gr(){return Ft.LocalTemplatesLoaded}function Lr(e){Ft.LocalTemplatesLoaded=e}function Ir(e,t){const n=Ae(t),r=new ht("New_5"),s=e.querySelectorAll("[ws-template]");for(let w=0,A=s.length-1;w<=A;w++){const g=s[w],x=g.getAttribute("ws-template").toLowerCase();g.removeAttribute("ws-template"),r.set_Item(x,gn(g))}const i=e.querySelectorAll("[ws-children-template]");for(let w=0,A=i.length-1;w<=A;w++){const g=i[w],x=g.getAttribute("ws-children-template").toLowerCase();g.removeAttribute("ws-children-template"),r.set_Item(x,Wr(g))}const l=e.querySelectorAll("template[id]");for(let w=0,A=l.length-1;w<=A;w++){const g=l[w];r.set_Item(g.getAttribute("id").toLowerCase(),tn(g))}const o=e.querySelectorAll("template[name]");for(let w=0,A=o.length-1;w<=A;w++){const g=o[w];r.set_Item(g.getAttribute("name").toLowerCase(),tn(g))}const a=new at("New_3");function d(w){if(!n.ContainsKey(w)){let A;const g=(A=null,[r.TryGetValue(w,{get:()=>A,set:x=>{A=x}}),A]);g[0]?(a.SAdd(w),r.RemoveKey(w),qt(t,N(w),g[1],N(d))):console.warn(a.Contains(w)?"Encountered loop when instantiating "+w:"Local template does not exist: "+w)}}for(;r.count>0;)d(jr(r.Keys))}function Zt(){return Ft.LoadedTemplates}function Ae(e){let t;const n=(t=null,[Zt().TryGetValue(e,{get:()=>t,set:r=>{t=r}}),t]);if(n[0])return n[1];{const r=new ht("New_5");return Zt().set_Item(e,r),r}}function Ur(e,t){const n=Rr(e,yn(t,Hr().Values)),r=n[1],s=n[0],i=s.Els;return!_(i,null)&&i.length===1&&F(i,0)instanceof Node&&_(F(i,0).nodeType,Node.ELEMENT_NODE)&&(F(i,0),!0)?Ue.TreeNode(s,r):rt.Mk(Sn(s),r)}function gn(e){e.removeAttribute("ws-template");const t=e.getAttribute("ws-replace");if(t!=null){e.removeAttribute("ws-replace");const r=e.parentNode;if(!_(r,null)){const s=globalThis.document.createElement(e.tagName);s.setAttribute("ws-replace",t),r.replaceChild(s,e)}}const n=globalThis.document.createElement("div");return n.appendChild(e),n}function Wr(e){const t=globalThis.document.createElement("div");for(;e.hasChildNodes();)t.appendChild(e.firstChild);return t}function tn(e){const t=globalThis.document.createElement("div"),n=e.content;for(let r=0,s=n.childNodes.length-1;r<=s;r++)t.appendChild(n.childNodes[r].cloneNode(!0));return t}function qt(e,t,n,r){const s=new at("New_3");function i(g,x){for(;;)switch(g){case 0:if(x!==null){const u=x.nextSibling;_(x.nodeType,Node.TEXT_NODE)?Js(x):_(x.nodeType,Node.ELEMENT_NODE)&&o(x),x=u}else return null;break;case 1:const O=wt(x.nodeName,N(3),null).toLowerCase(),C=O.indexOf("."),G=C===-1?[e,O]:[wt(O,null,N(C-1)),wt(O,N(C+1),null)],V=G[1],L=G[0];if(L!=""&&!Zt().ContainsKey(L))return sn(V);{L==""&&r!=null&&r.$0(V);const u=Zt().Item(L);if(u.ContainsKey(V)){const f=u.Item(V).cloneNode(!0),$=new at("New_3"),T=new ht("New_5"),M=x.attributes;for(let k=0,b=M.length-1;k<=b;k++){const U=M.item(k).name.toLowerCase(),K=M.item(k).nodeValue;let S=K==""?U:K.toLowerCase();T.set_Item(U,S),$.SAdd(U)||console.warn("Hole mapped twice",U)}for(let k=0,b=x.childNodes.length-1;k<=b;k++){const U=x.childNodes[k];_(U.nodeType,Node.ELEMENT_NODE)&&($.SAdd(U.nodeName.toLowerCase())||console.warn("Hole filled twice",V))}const W=x.childNodes.length===1&&_(x.firstChild.nodeType,Node.TEXT_NODE);if(W){const k=Qs(f,x.firstChild.textContent,V),b=(K=>S=>K.SAdd(S))($);(K=>S=>{S!=null&&K(S.$0)})(K=>{b(K)})(k)}if(Xs(f,$),!W)for(let k=0,b=x.childNodes.length-1;k<=b;k++){const U=x.childNodes[k];_(U.nodeType,Node.ELEMENT_NODE)&&(U.hasAttributes()?ti(f,U):l(f,U))}ei(f,T),ln(f,x.parentNode,x),x.parentNode.removeChild(x);return}else return sn(V)}}}function l(g,x){const O=x.nodeName.toLowerCase(),C=(V,L)=>{if(O=="title"&&x.hasChildNodes()){const u=ni(x.textContent);for(x.removeChild(x.firstChild);u.hasChildNodes();)x.appendChild(u.firstChild)}return o(x),ln(x,V,L)};z(g,"[ws-attr-holes]",V=>{const L=pt(V.getAttribute("ws-attr-holes"),[" "],1);for(let u=0,h=L.length-1;u<=h;u++){const f=F(L,u);let $=new RegExp("\\${"+O+"}","ig"),T=V.getAttribute(f).replace($,x.textContent);V.setAttribute(f,T)}});const G=g.querySelector("[ws-hole="+O+"]");if(_(G,null)){const V=g.querySelector("[ws-replace="+O+"]");if(_(V,null)){const L=g.querySelector("slot[name="+O+"]");return g.tagName.toLowerCase()=="template"?(C(L.parentNode,L),void L.parentNode.removeChild(L)):null}else{C(V.parentNode,V),V.parentNode.removeChild(V);return}}else{for(;G.hasChildNodes();)G.removeChild(G.lastChild);return G.removeAttribute("ws-hole"),C(G,null)}}function o(g){g.hasAttribute("ws-preserve")||(Oe(g.nodeName.toLowerCase(),"ws-")?d(g):(Fn(g),a(g.firstChild)))}function a(g){return i(0,g)}function d(g){return i(1,g)}function w(g){for(;;){const x=g.querySelector("[ws-template]");if(_(x,null)){const O=g.querySelector("[ws-children-template]");if(_(O,null)){const C=g.querySelectorAll("template[id]");for(let V=1,L=C.length-1;V<=L;V++){const u=C[V];s.Contains(u)||(qt(e,N(u.getAttribute("id")),u,null),s.SAdd(u))}const G=g.querySelectorAll("template[name]");for(let V=1,L=G.length-1;V<=L;V++){const u=G[V];s.Contains(u)||(qt(e,N(u.getAttribute("name")),u,null),s.SAdd(u))}return null}else{const C=O.getAttribute("ws-children-template");O.removeAttribute("ws-children-template"),qt(e,N(C),O,null),g=g}}else{const O=x.getAttribute("ws-template");qr(e,N(O),x)(null),g=g}}}const A=(t==null?"":t.$0).toLowerCase();Ae(e).set_Item(A,n),n.hasChildNodes()&&(w(n),a(n.firstChild))}function Rr(e,t){let n;const r=[],s=[],i=[],l=[],o=new ht("New_5"),a=j(t);try{for(;a.MoveNext();){const u=a.Current;o.set_Item(u.Name,u)}}finally{typeof a=="object"&&lt(a)&&a.Dispose()}let d=on(e);const w=(u,h)=>{const f=In(u,h);s.push(Un(f)),i.push([u,f]);const $=Yt(f.OnAfterRender);if($==null)return null;{const T=$.$0;l.push(()=>{T(u)});return}},A=u=>{let h;const f=(h=null,[o.TryGetValue(u,{get:()=>h,set:$=>{h=$}}),h]);if(f[0]){const $=f[1];if($ instanceof Si)return N($.Value);if($ instanceof Vr)return N(rt.TextNode($.Value));{const T=$.ForTextView();return T==null?null:N(rt.TextView(T.$0))}}else return null};z(e,"[ws-hole]",u=>{const h=u.getAttribute("ws-hole");for(u.removeAttribute("ws-hole");u.hasChildNodes();)u.removeChild(u.lastChild);const f=A(h);if(f!=null&&f.$==1){const $=f.$0;$e(u,$.docNode),r.push(bt.New(_e(u),$.docNode,null,u,Pt(),null)),s.push($.updates)}}),z(e,"[ws-replace]",u=>{const h=A(u.getAttribute("ws-replace"));if(h!=null&&h.$==1){const f=h.$0,$=u.parentNode,T=globalThis.document.createTextNode("");$.replaceChild(T,u);const M=Ls(T,f.docNode);d=on(e);const W=Nn(k=>u===k,d);W==null||hn(d,W.$0,f.docNode),r.push(bt.New(_e($),f.docNode,N([M,T]),$,Pt(),null)),s.push(f.updates)}});let g=!1;z(e,"slot",u=>{const h=u.getAttribute("name"),f=h==""||h==null?"default":h.toLowerCase();if(!(g&&f=="default"||!_(e.parentElement,null))){for(;u.hasChildNodes();)u.removeChild(u.lastChild);f=="default"&&(g=!0);const $=A(f);if($!=null&&$.$==1){const T=$.$0;$e(u,T.docNode),r.push(bt.New(_e(u),T.docNode,null,u,Pt(),null)),s.push(T.updates)}}}),z(e,"[ws-attr]",u=>{let h;const f=u.getAttribute("ws-attr");u.removeAttribute("ws-attr");const $=(h=null,[o.TryGetValue(f,{get:()=>h,set:T=>{h=T}}),h]);if($[0]){const T=$[1];T instanceof bi?w(u,T.Value):console.warn("Attribute hole filled with non-attribute data",f)}}),z(e,"[ws-on]",u=>{w(u,Q.Concat(Le(h=>{let f;const $=pt(h,[":"],1),T=(f=null,[o.TryGetValue(F($,1),{get:()=>f,set:M=>{f=M}}),f]);if(T[0]){const M=T[1];return M instanceof Ei?N(Di(F($,0),M.Value)):M instanceof $n?N(Q.Handler(F($,0),M.Value)):(console.warn("Event hole on"+F($,0)+" filled with non-event data",F($,1)),null)}else return null},pt(u.getAttribute("ws-on"),[" "],1)))),u.removeAttribute("ws-on")}),z(e,"[ws-onafterrender]",u=>{let h;const f=u.getAttribute("ws-onafterrender"),$=(h=null,[o.TryGetValue(f,{get:()=>h,set:T=>{h=T}}),h]);if($[0]){const T=$[1];T instanceof Li||T instanceof Ii?(u.removeAttribute("ws-onafterrender"),w(u,cn(T.Value))):console.warn("onafterrender hole filled with non-onafterrender data",f)}}),z(e,"[ws-var]",u=>{let h;const f=u.getAttribute("ws-var");u.removeAttribute("ws-var");const $=(h=null,[o.TryGetValue(f,{get:()=>h,set:T=>{h=T}}),h]);$[0]&&$[1].AddAttribute(T=>M=>w(T,M),u)});const x=()=>{Pr("[ws-dom]",u=>{let h,f,$;const T=(h=null,[o.TryGetValue(u.getAttribute("ws-dom").toLowerCase(),{get:()=>h,set:M=>{h=M}}),h]);if(T[0]){const M=T[1];if(M instanceof xn){const W=M.Value;u.removeAttribute("ws-dom"),f=u;const k=new MutationObserver((b,U)=>{st(K=>{K.removedNodes.forEach(lr(S=>S[0]===f&&K.addedNodes.length!==1?(W.SetFinal(null),U.disconnect()):null),null)},b)});u.parentElement!==null&&k.observe(u.parentElement,($={},$.childList=!0,$)),W.Set(N(u)),Mn(b=>{if(b!=null&&b.$==1){const U=b.$0;f===U||(f.replaceWith(U),f=U)}else f.remove(),k.disconnect()},W.View)}}})};z(e,"[ws-attr-holes]",u=>{const h=new RegExp(Jt(),"g"),f=pt(u.getAttribute("ws-attr-holes"),[" "],1);u.removeAttribute("ws-attr-holes");for(let $=0,T=f.length-1;$<=T;$++)(()=>{let M;const W=F(f,$),k=u.getAttribute(W);let b=null,U=0;const K=[];for(;b=h.exec(k),b!==null;){const m=wt(k,N(U),N(h.lastIndex-F(b,0).length-1));U=h.lastIndex,K.push([m,F(b,1)])}const S=wt(k,N(U),null);h.lastIndex=0;const p=Ie((m,v)=>(y=>{const E=y[0],D=y[1];return I=>{let R;const P=I[0],B=I[1],J=(R=null,[o.TryGetValue(D,{get:()=>R,set:ut=>{R=ut}}),R]),ot=J[0]?J[1].AsChoiceView:He("");return ot.$==1?[E,Dt.Cons(P==""?ot.$0:Y(ut=>ut+P,ot.$0),B)]:[E+ot.$0+P,B]}})(m)(v),K,[S,Dt.Empty]);if(p[1].$==1)if(p[1].$1.$==1)if(p[1].$1.$1.$==1)if(p[1].$1.$1.$1.$==0){const m=p[0];M=Rt(W,Ks((v,y,E)=>m+v+y+E,p[1].$0,p[1].$1.$0,p[1].$1.$1.$0))}else{const m=p[0];M=Rt(W,Y(v=>m+kt("",v),zs(p[1])))}else{const m=p[0];M=Rt(W,Zs((v,y)=>m+v+y,p[1].$0,p[1].$1.$0))}else if(p[0]=="")M=Rt(W,p[1].$0);else{const m=p[0];M=Rt(W,Y(v=>m+v,p[1].$0))}else M=Q.Create(W,p[0]);return w(u,M)})()});let O=d;const C=l.length==0?N(()=>{x()}):N(u=>{x(),st(h=>{h(u)},l)}),G=!_(d,null)&&d.length===1&&F(d,0)instanceof Node&&F(d,0)instanceof Element&&(n=F(d,0),!0)?N(n):null;let V={Els:O,Dirty:!0,Holes:r,Attrs:i,Render:C?C.$0:void 0,El:G?G.$0:void 0};return[ir(V,["Render","El"]),Se(ee(),we,s)]}function Hr(){return Ft.GlobalHoles}function z(e,t,n){ui(e,t,r=>{r.closest("[ws-preserve]")==null&&n(r)})}function qr(e,t,n){const r=gn(n);return s=>{qt(e,t,r,s)}}function Pr(e,t){ci(e,n=>{n.closest("[ws-preserve]")==null&&t(n)})}function Jt(){return Ft.TextHoleRE}class rt extends Z{constructor(n,r){super();c(this,"docNode");c(this,"updates");this.docNode=n,this.updates=r}static RunById(n,r){const s=globalThis.document.getElementById(n);_(s,null)?X("invalid id: "+n):rt.Run(s,r)}static Run(n,r){$e(n,r.docNode),rt.RunInPlace(!1,n,r)}static get Empty(){return rt.Mk(null,ee())}static RunInPlace(n,r,s){const i=Fs(r,s.docNode);Mn(On()||Gn()?wi(Os(n,i,s.docNode)):()=>{Gs(n,i,s.docNode)},s.updates)}static Mk(n,r){return new rt(n,r)}static TextNode(n){return rt.Mk(ps(globalThis.document.createTextNode(n)),ee())}static TextView(n){const r=Hs();return rt.Mk(ms(r),Y(s=>{qs(r,s)},n))}}class ht extends Z{constructor(n,r,s,i){var t=(...eo)=>(super(...eo),c(this,"equals"),c(this,"hash"),c(this,"count"),c(this,"data"),this);if(n=="New_5"&&(n="New_6",r=[],s=_,i=zt),n=="New_6"){const l=r,o=s,a=i;t(),this.equals=o,this.hash=a,this.count=0,this.data=[];const d=j(l);try{for(;d.MoveNext();){const w=d.Current;this.set(w.K,w.V)}}finally{typeof d=="object"&&lt(d)&&d.Dispose()}}}set_Item(n,r){this.set(n,r)}set(n,r){const s=this.hash(n),i=this.data[s];if(i==null)this.count=this.count+1,this.data[s]=new Array({K:n,V:r});else{const l=Nn(o=>this.equals.apply(null,[St(o)[0],n]),i);l==null?(this.count=this.count+1,i.push({K:n,V:r})):i[l.$0]={K:n,V:r}}}TryGetValue(n,r){const s=this.data[this.hash(n)];if(s==null)return!1;{const i=vn(l=>{const o=St(l);return this.equals.apply(null,[o[0],n])?N(o[1]):null},s);return i!=null&&i.$==1&&(r.set(i.$0),!0)}}ContainsKey(n){const r=this.data[this.hash(n)];return r==null?!1:An(s=>this.equals.apply(null,[St(s)[0],n]),r)}RemoveKey(n){return this.remove(n)}get Keys(){return new pi(this)}GetEnumerator(){return Ms(rs(hs(this.data)))}get Values(){return new Pi(this)}remove(n){const r=this.hash(n),s=this.data[r];if(s==null)return!1;{const i=re(l=>!this.equals.apply(null,[St(l)[0],n]),s);return q(i)<s.length&&(this.count=this.count-1,this.data[r]=i,!0)}}Item(n){return this.get(n)}get(n){const r=this.data[this.hash(n)];return r==null?Vs():ss(s=>{const i=St(s);return this.equals.apply(null,[i[0],n])?N(i[1]):null},r)}static New_5(){return new this("New_5")}static New_6(n,r,s){return new this("New_6",n,r,s)}}let mt=ft(e=>{var t;return t=class extends Z{static Create_1(r){return new ws(!1,{s:Te(r,[])},r)}},mt=e(t),t});class at extends Z{constructor(n,r,s,i){var t=(...no)=>(super(...no),c(this,"equals"),c(this,"hash"),c(this,"data"),c(this,"count"),this);n=="New_3"&&(n="New_4",r=[],s=_,i=zt);let l;if(n=="New_2"&&(l=r,n="New_4",r=l,s=_,i=zt),n=="New_4"){const o=r,a=s,d=i;t(),this.equals=a,this.hash=d,this.data=[],this.count=0;const w=j(o);try{for(;w.MoveNext();)this.add(w.Current)}finally{typeof w=="object"&&lt(w)&&w.Dispose()}}}SAdd(n){return this.add(n)}Contains(n){const r=this.data[this.hash(n)];return r==null?!1:this.arrContains(n,r)}add(n){const r=this.hash(n),s=this.data[r];return s==null?(this.data[r]=[n],this.count=this.count+1,!0):this.arrContains(n,s)?!1:(s.push(n),this.count=this.count+1,!0)}arrContains(n,r){let s=!0,i=0;const l=r.length;for(;s&&i<l;)this.equals.apply(null,[r[i],n])?s=!1:i=i+1;return!s}GetEnumerator(){return j(Ve(this.data))}ExceptWith(n){const r=j(n);try{for(;r.MoveNext();)this.Remove(r.Current)}finally{typeof r=="object"&&lt(r)&&r.Dispose()}}get Count(){return this.count}IntersectWith(n){const r=new at("New_4",n,this.equals,this.hash),s=Ve(this.data);for(let i=0,l=s.length-1;i<=l;i++){const o=s[i];r.Contains(o)||this.Remove(o)}}Remove(n){const r=this.data[this.hash(n)];return r==null?!1:this.arrRemove(n,r)&&(this.count=this.count-1,!0)}CopyTo(n,r){const s=Ve(this.data);for(let i=0,l=s.length-1;i<=l;i++)hn(n,i+r,s[i])}arrRemove(n,r){let s=!0,i=0;const l=r.length;for(;s&&i<l;)this.equals.apply(null,[r[i],n])?(r.splice(i,1),s=!1):i=i+1;return!s}static New_3(){return new this("New_3")}static New_4(n,r,s){return new this("New_4",n,r,s)}static New_2(n){return new this("New_2",n)}}function yn(e,t){return{GetEnumerator:()=>{const n=j(e),r=[!0];return new yt(n,null,s=>{if(s.s.MoveNext())return s.c=s.s.Current,!0;{const i=s.s;return _(i,null)||i.Dispose(),s.s=null,r[0]&&(r[0]=!1,s.s=j(t),s.s.MoveNext()?(s.c=s.s.Current,!0):(s.s.Dispose(),s.s=null,!1))}},s=>{const i=s.s;_(i,null)||i.Dispose()})}}}function jr(e){const t=j(e);try{return t.MoveNext()?t.Current:Me()}finally{typeof t=="object"&&lt(t)&&t.Dispose()}}function Br(e,t,n){let r=t;const s=j(n);try{for(;s.MoveNext();)r=e(r,s.Current);return r}finally{typeof s=="object"&&lt(s)&&s.Dispose()}}function Yr(e,t){const n=j(t);try{for(;n.MoveNext();)e(n.Current)}finally{typeof n=="object"&&lt(n)&&n.Dispose()}}function Tt(e,t){return{GetEnumerator:()=>{const n=j(t);return new yt(null,null,r=>n.MoveNext()&&(r.c=e(n.Current),!0),()=>{n.Dispose()})}}}function en(e){return{GetEnumerator:()=>j(e())}}function Kr(e,t){return Zr(Tt(e,t))}function zr(e){const t=j(e);try{t.MoveNext()||Qr();let n=t.Current;for(;t.MoveNext();){const r=t.Current;ve(r,n)===1&&(n=r)}return n}finally{typeof t=="object"&&lt(t)&&t.Dispose()}}function Zr(e){return{GetEnumerator:()=>{const t=j(e);function n(r){for(;;){const s=r.s;if(_(s,null))if(t.MoveNext())r.s=j(t.Current),r=r;else return t.Dispose(),!1;else{if(s.MoveNext())return r.c=s.Current,!0;r.Dispose(),r.s=null,r=r}}}return new yt(null,null,n,r=>{const s=r.s;_(s,null)||s.Dispose(),_(t,null)||t.Dispose()})}}}function Jr(e,t){return Xr(e,ts(t))}function Qr(){return X("The input sequence was empty.")}function Xr(e,t){return e<0&&di(),{GetEnumerator:()=>{const n=[j(t)];return new yt(0,null,r=>{if(r.s=r.s+1,r.s>e)return!1;{const s=n[0];return _(s,null)?Me():s.MoveNext()?(r.c=s.Current,r.s===e&&(s.Dispose(),n[0]=null),!0):(s.Dispose(),n[0]=null,Me())}},()=>{const r=n[0];_(r,null)||r.Dispose()})}}}function ts(e){return{GetEnumerator:()=>new yt(0,null,t=>(t.c=e(t.s),t.s=t.s+1,!0),void 0)}}function es(e,t){return!ns(n=>!e(n),t)}function ns(e,t){const n=j(t);try{let r=!1;for(;!r&&n.MoveNext();)r=e(n.Current);return r}finally{typeof n=="object"&&lt(n)&&n.Dispose()}}function Le(e,t){const n=[];for(let r=0,s=t.length-1;r<=s;r++){const i=e(t[r]);i==null||n.push(i.$0)}return n}function Nn(e,t){let n=null,r=0;for(;r<t.length&&n==null;)e(t[r])&&(n=N(r)),r=r+1;return n}function vn(e,t){let n=null,r=0;for(;r<t.length&&n==null;){const s=e(t[r]);s!=null&&s.$==1&&(n=s),r=r+1}return n}function An(e,t){let n=!1,r=0;for(;!n&&r<q(t);)e(t[r])?n=!0:r=r+1;return n}function rs(e){return Array.prototype.concat.apply([],Qt(e))}function st(e,t){for(let n=0,r=t.length-1;n<=r;n++)e(t[n])}function Ie(e,t,n){let r=n;const s=t.length;for(let i=1,l=s;i<=l;i++)r=e(t[s-i],r);return r}function gt(e,t){const n=new Array(t.length);for(let r=0,s=t.length-1;r<=s;r++)n[r]=e(t[r]);return n}function re(e,t){const n=[];for(let r=0,s=t.length-1;r<=s;r++)e(t[r])&&n.push(t[r]);return n}function Qt(e){if(e instanceof Array)return e.slice();if(e instanceof Dt)return Cn(e);{const t=[],n=j(e);try{for(;n.MoveNext();)t.push(n.Current);return t}finally{typeof n=="object"&&lt(n)&&n.Dispose()}}}function ss(e,t){const n=vn(e,t);return n==null?X("KeyNotFoundException"):n.$0}function Cn(e){const t=[];let n=e;for(;n.$!=0;)t.push(pl(n)),n=ml(n);return t}function Tn(e,t){let n=!0,r=0;for(;n&&r<q(t);)e(t[r])?r=r+1:n=!1;return n}function is(e,t){const n=new Array(e);for(let r=0,s=e-1;r<=s;r++)n[r]=t;return n}function ls(e,t){e<0&&X("Negative size given.");const n=new Array(e);for(let r=0,s=e-1;r<=s;r++)n[r]=t(r);return n}let nt=ft(e=>{var t;return t=class extends Z{constructor(){super(...arguments);c(this,"id");c(this,"vars")}static GetOrAddHoleFor(s,i,l){let o;const a=nt.GetHolesFor(s),d=(o=null,[a.TryGetValue(i,{get:()=>o,set:w=>{o=w}}),o]);if(d[0])return d[1];{const w=l();return a.set_Item(i,w),w}}static GetHolesFor(s){let i;const l=(i=null,[nt.initialized.TryGetValue(s,{get:()=>i,set:o=>{i=o}}),i]);if(l[0])return l[1];{const o=new ht("New_5");return nt.initialized.set_Item(s,o),o}}},nt=e(t),c(t,"init"),c(t,"initialized"),c(t,"instances"),nt.initialized=new ht("New_5"),nt.instances=new ht("New_5"),t});class os extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return N(this.fillWith.View)}AddAttribute(n,r){n(r)(ki(this.fillWith))}get AsChoiceView(){return xt(Y(String,this.fillWith.View))}}class us extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return N(Y(String,this.fillWith.View))}AddAttribute(n,r){n(r)(_i(this.fillWith))}get AsChoiceView(){return xt(Y(String,this.fillWith.View))}}class cs extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return N(Y(String,this.fillWith.View))}AddAttribute(n,r){n(r)(Vi(this.fillWith))}get AsChoiceView(){return xt(Y(String,this.fillWith.View))}}class as extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return N(Y(n=>new Date(n).toLocaleString(),this.fillWith.View))}AddAttribute(n,r){n(r)(Mi(this.fillWith))}get AsChoiceView(){return xt(Y(n=>new Date(n).toLocaleString(),this.fillWith.View))}}class fs extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return N(Y(String,this.fillWith.View))}AddAttribute(n,r){n(r)(Fi(this.fillWith))}get AsChoiceView(){return xt(Y(String,this.fillWith.View))}}class xn extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}get Value(){return this.fillWith}}function hs(e){let t=[];for(var n in e)t.push(e[n]);return t}class ds extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return N(Y(n=>kt(",",n),this.fillWith.View))}AddAttribute(n,r){n(r)(Oi(this.fillWith))}get AsChoiceView(){return xt(Y(String,this.fillWith.View))}}function Sn(e){return{$:6,$0:e}}function ps(e){return{$:5,$0:e}}function ms(e){return{$:4,$0:e}}function $s(e,t){return Bl(e,-2147483648,2147483647,t)}class ws extends Tr{constructor(n,r,s){super();c(this,"isConst");c(this,"current");c(this,"snap");c(this,"view");c(this,"id");this.isConst=n,this.current=s,this.snap=r,this.view=()=>this.snap,this.id=Pt()}get View(){return this.view}Set(n){this.isConst?(r=>r("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(r=>{console.log(r)}):(ne(this.snap),this.current=n,this.snap={s:Te(n,[])})}SetFinal(n){this.isConst?(r=>r("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(r=>{console.log(r)}):(ne(this.snap),this.isConst=!0,this.current=n,this.snap={s:Nt(n)})}Get(){return this.current}UpdateMaybe(n){const r=n(this.Get());r!=null&&r.$==1&&this.Set(r.$0)}}function gs(e,t,n){const r=e.s;r==null?n():r!=null&&r.$==2?(r.$1.push(n),t(r.$0)):r!=null&&r.$==3?(r.$0.push(t),r.$1.push(n)):t(r.$0)}function Mt(e,t){const n=t.s;if(n!=null&&n.$==0)return{s:Nt(e(n.$0))};{const r={s:Ot([],[])};return dt(t,s=>{En(r,t,e(s))},r),r}}function ys(e,t,n,r){const s=t.s,i=n.s,l=r.s;if(s!=null&&s.$==0)return i!=null&&i.$==0?l!=null&&l.$==0?{s:Nt(e(s.$0,i.$0,l.$0))}:Cs(e,s.$0,i.$0,r):l!=null&&l.$==0?Ts(e,s.$0,l.$0,n):xs(e,s.$0,n,r);if(i!=null&&i.$==0)return l!=null&&l.$==0?Ss(e,i.$0,l.$0,t):bs(e,i.$0,t,r);if(l!=null&&l.$==0)return Es(e,l.$0,t,n);{const o={s:Ot([],[])},a=()=>{const d=o.s;if(!(d!=null&&d.$==0||d!=null&&d.$==2)){const w=Ct(t),A=Ct(n),g=Ct(r);w!=null&&w.$==1&&A!=null&&A.$==1&&g!=null&&g.$==1&&(w.$0[1]&&A.$0[1]&&g.$0[1]?se(o,e(w.$0[0],A.$0[0],g.$0[0])):ie(o,e(w.$0[0],A.$0[0],g.$0[0])))}};return dt(t,a,o),dt(n,a,o),dt(r,a,o),o}}function Ns(e){const t=Qt(e);if(t.length==0)return{s:Nt([])};{const n={s:Ot([],[])},r=[q(t)-1],s=()=>{if(r[0]===0){const i=gt(l=>{const o=l.s;return o!=null&&o.$==0||o!=null&&o.$==2?o.$0:X("value not found by View.Sequence")},t);Tn(l=>{const o=l.s;return o!=null&&o.$==0},t)?se(n,i):ie(n,i)}else r[0]=r[0]-1};return st(i=>{dt(i,s,n)},t),n}}function Ce(e,t,n){const r=t.s,s=n.s;if(r!=null&&r.$==0)return s!=null&&s.$==0?{s:Nt(e(r.$0,s.$0))}:Ds(e,r.$0,n);if(s!=null&&s.$==0)return ks(e,s.$0,t);{const i={s:Ot([],[])},l=()=>{const o=i.s;if(!(o!=null&&o.$==0||o!=null&&o.$==2)){const a=Ct(t),d=Ct(n);a!=null&&a.$==1&&d!=null&&d.$==1&&(a.$0[1]&&d.$0[1]?se(i,e(a.$0[0],d.$0[0])):ie(i,e(a.$0[0],d.$0[0])))}};return dt(t,l,i),dt(n,l,i),i}}function vs(e,t){const n=e.s,r=t.s;if(n!=null&&n.$==0)return r!=null&&r.$==0?{s:Nt(null)}:t;if(r!=null&&r.$==0)return e;{const s={s:Ot([],[])},i=()=>{const l=s.s;if(!(l!=null&&l.$==0||l!=null&&l.$==2)){const o=Ct(e),a=Ct(t);o!=null&&o.$==1&&a!=null&&a.$==1&&(o.$0[1]&&a.$0[1]?se(s,null):ie(s,null))}};return dt(e,i,s),dt(t,i,s),s}}function As(e){const t=e.s;if(t==null)return e;if(t!=null&&t.$==2){const n={s:Te(t.$0,[])};return _s(e,n),n}else if(t!=null&&t.$==3){const n={s:Ot([],[])};return dt(e,r=>{En(n,e,r)},n),n}else return e}function bn(e,t){const n=e.s;n==null?t():(n!=null&&n.$==2||n!=null&&n.$==3)&&n.$1.push(t)}function dt(e,t,n){const r=e.s;r==null?ne(n):r!=null&&r.$==2?(me(r.$1,n),t(r.$0)):r!=null&&r.$==3?(r.$0.push(t),me(r.$1,n)):t(r.$0)}function En(e,t,n){const r=t.s;r!=null&&r.$==0?se(e,n):ie(e,n)}function Cs(e,t,n,r){return Mt(s=>e(t,n,s),r)}function Ts(e,t,n,r){return Mt(s=>e(t,s,n),r)}function xs(e,t,n,r){return Ce((s,i)=>e(t,s,i),n,r)}function Ss(e,t,n,r){return Mt(s=>e(s,t,n),r)}function bs(e,t,n,r){return Ce((s,i)=>e(s,t,i),n,r)}function Es(e,t,n,r){return Ce((s,i)=>e(s,i,t),n,r)}function Ct(e){const t=e.s;return t!=null&&t.$==0?N([t.$0,!0]):t!=null&&t.$==2?N([t.$0,!1]):null}function se(e,t){const n=e.s;if(n!=null&&n.$==3){e.s=Nt(t);const r=n.$0;for(let s=0,i=q(r)-1;s<=i;s++)F(r,s)(t)}}function ie(e,t){const n=e.s;if(n!=null&&n.$==3){e.s=Te(t,n.$1);const r=n.$0;for(let s=0,i=q(r)-1;s<=i;s++)F(r,s)(t)}}function Ds(e,t,n){return Mt(r=>e(t,r),n)}function ks(e,t,n){return Mt(r=>e(r,t),n)}function _s(e,t){const n=e.s;n==null?ne(t):(n!=null&&n.$==2||n!=null&&n.$==3)&&me(n.$1,t)}function me(e,t){if(e.push(t),e.length%20===0){const n=e.slice(0);Jl(e);for(let r=0,s=q(n)-1;r<=s;r++){const i=F(n,r);typeof i=="object"?(l=>{l.s&&e.push(l)})(i):(l=>{e.push(l)})(i)}}}function Vs(){throw new ul("New")}function j(e){return e instanceof Array?Dn(e):_(typeof e,"string")?kn(e):e.GetEnumerator()}function Dn(e){return new yt(0,null,t=>{const n=t.s;return n<q(e)&&(t.c=F(e,n),t.s=n+1,!0)},void 0)}function kn(e){return new yt(0,null,t=>{const n=t.s;return n<e.length&&(t.c=e[n],t.s=n+1,!0)},void 0)}function Ms(e){return e instanceof Array?Dn(e):_(typeof e,"string")?kn(e):"GetEnumerator0"in e?e.GetEnumerator0():e.GetEnumerator()}class yt extends Z{constructor(n,r,s,i){super();c(this,"s");c(this,"c");c(this,"n");c(this,"d");c(this,"e");this.s=n,this.c=r,this.n=s,this.d=i,this.e=0}MoveNext(){const n=this.n(this);return this.e=n?1:2,n}get Current(){return this.e===1?this.c:this.e===0?X("Enumeration has not started. Call MoveNext."):X("Enumeration already finished.")}Dispose(){this.d&&this.d(this)}}let Ft=ft(e=>{var t;return t=class{},Ft=e(t),c(t,"RenderedFullDocTemplate"),c(t,"TextHoleRE"),c(t,"GlobalHoles"),c(t,"LocalTemplatesLoaded"),c(t,"LoadedTemplates"),t.LoadedTemplates=new ht("New_5"),t.LocalTemplatesLoaded=!1,t.GlobalHoles=new ht("New_5"),t.TextHoleRE="\\${([^}]+)}",t.RenderedFullDocTemplate=null,t});function $e(e,t){Xt(e,t,null)}function Xt(e,t,n){for(;;){if(t!=null&&t.$==1)return ce(e,t.$0.El,n);if(t!=null&&t.$==2){const r=t.$0;r.Dirty=!1,t=r.Current}else{if(t==null)return n;if(t!=null&&t.$==4)return ce(e,t.$0.Text,n);if(t!=null&&t.$==5)return ce(e,t.$0,n);if(t!=null&&t.$==6)return Ie((r,s)=>(i=>l=>o=>l==null||l.constructor===Object?Xt(i,l,o):ce(i,l,o))(e)(r)(s),t.$0.Els,n);{const r=t.$1;t=t.$0,n=Xt(e,r,n)}}}}function Fs(e,t){return ji(Bi(),Is(e,Rn(),t))}function Os(e,t,n){return On()?je(()=>{const r=qn(n),s=Rs(t,r),i=Ws(t,r);return jt(un(mi(s,Us(t,r))),()=>jt(nn(e,t),()=>jt(un(i),()=>(t.PreviousNodes=r,Ee(null)))))}):nn(e,t)}function Gs(e,t,n){const r=qn(n);te(e,t.Top),t.PreviousNodes=r}function Ls(e,t){const n=e.parentNode,r=globalThis.document.createTextNode("");return n.insertBefore(r,e),Ps(e,t),r}function ce(e,t,n){return ai(e,n,t),t}function Is(e,t,n){$e(e,n);const r=In(e,t);return bt.New(r,n,null,e,Pt(),Yt(r.OnAfterRender))}function nn(e,t){if(Gn()){const n=r=>{requestAnimationFrame(()=>{te(e,t.Top),r()})};return jn((r,s,i)=>n.apply(null,[r,s,i]))}else return te(e,t.Top),Ee(null)}function Us(e,t){return xe(gt(n=>yi(n.Attr),Pe(Pn(t,qe(n=>gi(n.Attr),e.PreviousNodes)))))}function Ws(e,t){return xe(gt(n=>vi(n.Attr),Pe(Pn(e.PreviousNodes,qe(n=>Ni(n.Attr),t)))))}function Rs(e,t){const n=s=>Ai(s.Attr),r=s=>qe(n,s);return xe(gt(s=>Ci(s.Attr),Pe(Yi(r(e.PreviousNodes),r(t)))))}function te(e,t){e||js(t),_n(t.Children),Vn(t)}function Hs(){return{Text:globalThis.document.createTextNode(""),Dirty:!1,Value:""}}function qs(e,t){e.Value=t,e.Dirty=!0}function Ps(e,t){Xt(e.parentNode,t,e)}function js(e){function t(n){function r(s){for(;;)if(s!=null&&s.$==0){const i=s.$1,l=s.$0;if(r(l))return!0;s=i}else if(s!=null&&s.$==2){const i=s.$0;if(i.Dirty)return!0;s=i.Current}else if(s!=null&&s.$==6){const i=s.$0;return i.Dirty||An(t,i.Holes)}else return!1}return r(n.Children)}Hn(e.El,e.Attr),t(e)&&Bs(e)}function _n(e){for(;;){if(e!=null&&e.$==1)return te(!1,e.$0);if(e!=null&&e.$==2)e=e.$0.Current;else{if(e==null)return null;if(e!=null&&e.$==5)return null;if(e!=null&&e.$==4){const t=e.$0;return t.Dirty?(t.Text.nodeValue=t.Value,t.Dirty=!1):null}else if(e!=null&&e.$==6){const t=e.$0;return st(n=>{te(!1,n)},t.Holes),st(n=>{Hn(n[0],n[1])},t.Attrs),Vn(t)}else{const t=e.$1,n=e.$0;_n(n),e=t}}}}function Vn(e){const t=Yt(e.Render);t!=null&&t.$==1&&(t.$0(e.El),Kt(e,"Render",null))}function Bs(e){const t=e.El;function n(l,o){for(;;){if(l!=null&&l.$==1)return l.$0.El;if(l!=null&&l.$==2){const a=l.$0;if(a.Dirty)return a.Dirty=!1,Xt(t,a.Current,o);l=a.Current}else{if(l==null)return o;if(l!=null&&l.$==4)return l.$0.Text;if(l!=null&&l.$==5)return l.$0;if(l!=null&&l.$==6){const a=l.$0;return a.Dirty&&(a.Dirty=!1),Ie((d,w)=>d==null||d.constructor===Object?n(d,w):d,a.Els,o)}else{const a=l.$1;l=l.$0,o=n(a,o)}}}}const r=e.El;Hl(l=>{fi(r,l)},Rl(ql(e),Wl(e.El,Yt(e.Delimiters))));let s=e.Children;const i=Yt(e.Delimiters);n(s,i!=null&&i.$==1?i.$0[1]:null)}class bt{constructor(){c(this,"Attr");c(this,"Children");c(this,"Delimiters");c(this,"El");c(this,"ElKey");c(this,"Render")}Equals(t){return this.ElKey===t.ElKey}GetHashCode(){return this.ElKey}static New(t,n,r,s,i,l){const o={Attr:t,Children:n,El:s,ElKey:i};let a=(Kt(o,"Delimiters",r),Kt(o,"Render",l),o);return ct(bt,a)}}function Pt(){return Ys(rn()+1),rn()}function Ys(e){Be.counter=e}function rn(){return Be.counter}function Te(e,t){return{$:2,$0:e,$1:t}}function Nt(e){return{$:0,$0:e}}function Ot(e,t){return{$:3,$0:e,$1:t}}class Ue extends rt{constructor(n,r,s,i){super(n,r);c(this,"docNode_1");c(this,"updates_1");c(this,"elt");c(this,"rvUpdates");this.docNode_1=n,this.updates_1=r,this.elt=s,this.rvUpdates=i}static TreeNode(n,r){const s=ye.Create(r),i=gt(a=>Un(a[1]),n.Attrs);let l=Se(ee(),we,i),o=we(l,s.v);return new Ue(Sn(n),o,F(n.Els,0),s)}}function ee(e){const t={s:Nt(e)};return()=>t}function Mn(e,t){function n(){gs(t(),e,()=>{_t().Fork(n)})}_t().Fork(n)}function Y(e,t){return le(()=>Mt(e,t()))}function Ks(e,t,n,r){return le(()=>ys(e,t(),n(),r()))}function zs(e){return le(()=>Ns(Tt(t=>t(),e)))}function Zs(e,t,n){return le(()=>Ce(e,t(),n()))}function we(e,t){return le(()=>vs(e(),t()))}function le(e){const t={c:null,o:e};return()=>{let n=t.c;if(n===null){n=t.o(),t.c=n;const r=n.s;return r!=null&&r.$==0?t.o=null:bn(n,()=>{t.c=null}),n}else return n}}function Js(e){let t=null,n=0;const r=e.textContent,s=new RegExp(Jt(),"g");for(;t=s.exec(r),t!==null;){e.parentNode.insertBefore(globalThis.document.createTextNode(wt(r,N(n),N(s.lastIndex-F(t,0).length-1))),e),n=s.lastIndex;const i=globalThis.document.createElement("span");i.setAttribute("ws-replace",F(t,1).toLowerCase()),e.parentNode.insertBefore(i,e)}s.lastIndex=0,e.textContent=wt(r,N(n),null)}function sn(e){console.warn("Instantiating non-loaded template",e)}function Qs(e,t,n){const r=e.querySelector("[ws-replace]");return _(r,null)?(console.warn("Filling non-existent text hole",n),null):(r.parentNode.replaceChild(globalThis.document.createTextNode(t),r),N(r.getAttribute("ws-replace")))}function Xs(e,t){const n=r=>{z(e,"["+r+"]",s=>{t.Contains(s.getAttribute(r))||s.removeAttribute(r)})};n("ws-attr"),n("ws-onafterrender"),n("ws-var"),z(e,"[ws-hole]",r=>{if(!t.Contains(r.getAttribute("ws-hole")))for(r.removeAttribute("ws-hole");r.hasChildNodes();)r.removeChild(r.lastChild)}),z(e,"[ws-replace]",r=>{t.Contains(r.getAttribute("ws-replace"))||r.parentNode.removeChild(r)}),z(e,"[ws-on]",r=>{r.setAttribute("ws-on",kt(" ",re(s=>t.Contains(F(pt(s,[":"],1),1)),pt(r.getAttribute("ws-on"),[" "],1))))}),z(e,"[ws-attr-holes]",r=>{const s=pt(r.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,l=s.length-1;i<=l;i++){const o=F(s,i);let a=new RegExp(Jt(),"g"),d=r.getAttribute(o).replace(a,(w,A)=>t.Contains(A)?w:"");r.setAttribute(o,d)}})}function ti(e,t){Fn(t);const n=t.nodeName.toLowerCase(),r=e.querySelector("[ws-attr="+n+"]");if(_(r,null))console.warn("Filling non-existent attr hole",n);else{r.removeAttribute("ws-attr");for(let s=0,i=t.attributes.length-1;s<=i;s++){const l=t.attributes.item(s);l.name=="class"&&r.hasAttribute("class")?r.setAttribute("class",r.getAttribute("class")+" "+l.nodeValue):r.setAttribute(l.name,l.nodeValue)}}}function ei(e,t){const n=r=>{z(e,"["+r+"]",s=>{let i;const l=(i=null,[t.TryGetValue(s.getAttribute(r).toLowerCase(),{get:()=>i,set:o=>{i=o}}),i]);l[0]&&s.setAttribute(r,l[1])})};n("ws-hole"),n("ws-replace"),n("ws-attr"),n("ws-onafterrender"),n("ws-var"),z(e,"[ws-on]",r=>{r.setAttribute("ws-on",kt(" ",gt(s=>{let i;const l=pt(s,[":"],1),o=(i=null,[t.TryGetValue(F(l,1),{get:()=>i,set:a=>{i=a}}),i]);return o[0]?F(l,0)+":"+o[1]:s},pt(r.getAttribute("ws-on"),[" "],1))))}),z(e,"[ws-attr-holes]",r=>{const s=pt(r.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,l=s.length-1;i<=l;i++)(()=>{const o=F(s,i);return r.setAttribute(o,Br((a,d)=>{const w=St(d);return a.replace(new RegExp("\\${"+w[0]+"}","ig"),"${"+w[1]+"}")},r.getAttribute(o),t))})()})}function ln(e,t,n){for(;;)if(e.hasChildNodes())n=t.insertBefore(e.lastChild,n);else return null}function Fn(e){const t=e.attributes,n=[],r=[],s=[];for(let l=0,o=t.length-1;l<=o;l++){const a=t.item(l);if(Oe(a.nodeName,"ws-on")&&a.nodeName!="ws-onafterrender"&&a.nodeName!="ws-on")n.push(a.nodeName),r.push(wt(a.nodeName,N(5),null)+":"+a.nodeValue.toLowerCase());else if(!Oe(a.nodeName,"ws-")&&new RegExp(Jt()).test(a.nodeValue)){let d=new RegExp(Jt(),"g"),w=a.nodeValue.replace(d,(A,g)=>"${"+g.toLowerCase()+"}");a.nodeValue=w,s.push(a.nodeName)}}r.length!=0&&e.setAttribute("ws-on",kt(" ",r)),s.length!=0&&e.setAttribute("ws-attr-holes",kt(" ",s));const i=l=>{const o=e.getAttribute(l);o==null||e.setAttribute(l,o.toLowerCase())};i("ws-hole"),i("ws-replace"),i("ws-attr"),i("ws-onafterrender"),i("ws-var"),st(l=>{e.removeAttribute(l)},n)}function wt(e,t,n){if(t==null)if(n!=null&&n.$==1){const r=n.$0;return r<0?"":e.slice(0,r+1)}else return"";else{if(n==null)return e.slice(t.$0);{const r=n.$0;return r<0?"":e.slice(t.$0,r+1)}}}function ni(e){const t=globalThis.document.createElement("div");if(ri().test(e)){let o=function(a,d){for(;;){if(d===0)return a;{const w=d;a=a.lastChild,d=w-1}}};var n=o;const r=oi().exec(e),s=_(r,null)?"":F(r,1).toLowerCase(),i=si()[s],l=i||ii();return t.innerHTML=l[1]+e.replace(li(),"<$1></$2>")+l[2],o(t,l[0])}else return t.appendChild(globalThis.document.createTextNode(e)),t}function on(e){const t=[];for(let n=0,r=e.childNodes.length-1;n<=r;n++)t.push(e.childNodes[n]);return t}function ri(){return Lt.rhtml}function si(){return Lt.wrapMap}function ii(){return Lt.defaultWrap}function li(){return Lt.rxhtmlTag}function oi(){return Lt.rtagName}function ui(e,t,n){const r=e.querySelectorAll(t);for(let s=0,i=r.length-1;s<=i;s++)n(r[s])}function ci(e,t){const n=globalThis.document.querySelectorAll(e);for(let r=0,s=n.length-1;r<=s;r++)t(n[r])}function ai(e,t,n){let r;if(n.parentNode===e){const s=n.nextSibling;let i=_(s,null)?null:s;r=t===i}else r=!1;r||e.insertBefore(n,t)}function fi(e,t){t.parentNode===e&&e.removeChild(t)}function Me(){return X("The input sequence has an insufficient number of elements.")}function hi(e,t){let n=!0,r=0;for(;n&&r<q(t);)_(t[r],e)?n=!1:r=r+1;return!n}function di(){return X("The input must be non-negative.")}class pi extends Z{constructor(n){super();c(this,"d");this.d=n}GetEnumerator(){return j(Tt(n=>n.K,this.d))}}function On(){return Xi()}function un(e){return je(()=>jt($i(()=>{},tl(e)),()=>(el(e),Ee(null))))}function mi(e,t){return We(zn(e.$0,t.$0))}function $i(e,t){const n=t.Duration;if(n===0)return Ge();{const r=s=>{function i(l){return o=>{const a=o-l;return t.Compute(a),a<=n?void requestAnimationFrame(d=>{i(l)(d)}):s()}}requestAnimationFrame(l=>{i(l)(l)})};return jn((s,i,l)=>r.apply(null,[s,i,l]))}}function We(e){return{$:0,$0:e}}function xe(e){return We(ll(Tt(rl,e)))}function ke(){return We(Jn())}function Gn(){return Yn.BatchUpdatesEnabled}function wi(e){const t=[0];function n(){return je(()=>jt(e,()=>{const r=t[0];return _(r,1)?(t[0]=0,Ge()):_(r,2)?(t[0]=1,n()):Ge()}))}return()=>{const r=t[0];_(r,0)?(t[0]=1,Ki(n())):_(r,1)&&(t[0]=2)}}function Ln(e,t,n,r){const s={DynElem:e,DynFlags:t,DynNodes:n};return Kt(s,"OnAfterRender",r),s}function ne(e){let t;const n=e.s;if(!(n==null||(!(n!=null&&n.$==2||n!=null&&n.$==3)||(t=n.$1,!1)))){e.s=null;for(let r=0,s=q(t)-1;r<=s;r++){const i=F(t,r);typeof i=="object"?(l=>{ne(l)})(i):i()}}}function In(e,t){const n=[],r=[];function s(o){for(;;)if(o!==null){if(o!=null&&o.$==1)return n.push(o.$0);if(o!=null&&o.$==2){const a=o.$1,d=o.$0;s(d),o=a}else return o!=null&&o.$==3?o.$0(e):o!=null&&o.$==4?r.push(o.$0):null}else return null}s(t);const i=n.slice(0);return Ln(e,Fe(t),i,r.length===0?null:N(o=>{Yr(a=>{a(o)},r)}))}function Un(e){return qi(t=>t.NChanged,ee(),we,e.DynNodes)}function _e(e){return Ln(e,0,[],null)}function Fe(e){return e!==null&&e.hasOwnProperty("flags")?e.flags:0}function ge(e){return Q.A3(e)}function Wn(e,t){return Q.A1(new ol(e,t))}function Rn(){return H.EmptyAttr}function gi(e){return(e.DynFlags&2)===2}function yi(e){return Re(e,(t,n)=>t.NGetExitAnim(n))}function Ni(e){return(e.DynFlags&1)===1}function vi(e){return Re(e,(t,n)=>t.NGetEnterAnim(n))}function Ai(e){return(e.DynFlags&4)===4}function Ci(e){return Re(e,(t,n)=>t.NGetChangeAnim(n))}function Ti(e,t){if(e===null)return t;if(t===null)return e;{const n=Q.A2(e,t);return xi(n,Fe(e)|Fe(t)),n}}function Re(e,t){return xe(gt(n=>t(n,e.DynElem),e.DynNodes))}function Hn(e,t){st(n=>{n.NSync(e)},t.DynNodes)}function xi(e,t){e.flags=t}class Si extends tt{constructor(){super(...arguments);c(this,"name");c(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}class bi extends tt{constructor(){super(...arguments);c(this,"name");c(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}class Ei extends tt{constructor(){super(...arguments);c(this,"name");c(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}function Di(e,t){return ge(n=>{n.addEventListener(e,r=>t(n)(r),!1)})}function cn(e){return Q.A4(e)}function Rt(e,t){return Wn(t,n=>r=>n.setAttribute(e,r))}function ki(e){return Gt(Ml(),e)}function _i(e){return Gt(Fl(),e)}function Vi(e){return Gt(Ol(),e)}function Mi(e){return Gt(Gl(),e)}function Fi(e){return Gt(Ll(),e)}function Oi(e){return Gt(Il(),e)}function Gt(e,t){const n=e(t);return Q.Append(ge(n[0]),Gi(n[1],n[2]))}function Gi(e,t){return Wn(t,e)}class Q{static Handler(t,n){return Q.HandlerImpl(t,n)}static Concat(t){const n=be(t);return Se(Rn(),Q.Append,n)}static Create(t,n){return ge(r=>{r.setAttribute(t,n)})}static HandlerImpl(t,n){return ge(r=>{r.addEventListener(t,s=>n(r)(s),!1)})}static Append(t,n){return Ti(t,n)}static A4(t){return ct(Q,{$:4,$0:t})}static A3(t){return ct(Q,{$:3,$0:t})}static A1(t){return ct(Q,{$:1,$0:t})}static A2(t,n){return ct(Q,{$:2,$0:t,$1:n})}}class Li extends tt{constructor(){super(...arguments);c(this,"name");c(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}class Ii extends tt{constructor(){super(...arguments);c(this,"name");c(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}function He(e){return{$:0,$0:e}}function xt(e){return{$:1,$0:e}}const Bt=class Bt{static Cons(t,n){return ct(Bt,{$:1,$0:t,$1:n})}GetEnumerator(){return new yt(this,null,t=>{const n=t.s;return n.$==0?!1:(t.c=n.$0,t.s=n.$1,!0)},void 0)}};c(Bt,"Empty",ct(Bt,{$:0}));let Dt=Bt;function kt(e,t){return Qt(t).join(e)}function pt(e,t,n){return Ui(e,new RegExp("["+Wi(t.join(""))+"]"),n)}function Oe(e,t){return e.substring(0,t.length)==t}function Ui(e,t,n){return n===1?re(r=>r!=="",an(e,t)):an(e,t)}function Wi(e){return e.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&")}function an(e,t){return e.split(t)}function Ri(e,t){return es(e,Hi(t))}function Hi(e){return e??""}function Se(e,t,n){const r=q(n);function s(i){return l=>{switch(l<=0?0:l===1&&i>=0&&i<r?1:2){case 0:return e;case 1:return F(n,i);case 2:const o=l/2>>0;return t(s(i)(o),s(i+o)(l-o))}}}return s(0)(r)}function qi(e,t,n,r){const s=q(r);function i(l){return o=>{switch(o<=0?0:o===1&&l>=0&&l<s?1:2){case 0:return t;case 1:return e(F(r,l));case 2:const a=o/2>>0;return n(i(l)(a),i(l+a)(o-a))}}}return i(0)(s)}function be(e){if(e instanceof Array)return e;if(e instanceof Dt)return Cn(e);if(e===null)return[];{const t=[],n=j(e);try{for(;n.MoveNext();)t.push(n.Current);return t}finally{typeof n=="object"&&lt(n)&&n.Dispose()}}}class ye{constructor(){c(this,"c");c(this,"s");c(this,"v")}static Create(t){let n;return n=null,n=ye.New(t,null,()=>{let r;return r=n.s,r===null&&(r=As(n.c()),n.s=r,bn(r,()=>{n.s=null})),r}),n}static New(t,n,r){return ct(ye,{c:t,s:n,v:r})}}class Pi extends Z{constructor(n){super();c(this,"d");this.d=n}GetEnumerator(){return j(Tt(n=>n.V,this.d))}}function ji(e,t){return{PreviousNodes:e,Top:t}}function Bi(){return oe(new at("New_3"))}function qn(e){const t=[];function n(i,l){for(;;)switch(i){case 0:if(l!=null&&l.$==0){const o=l.$1,a=l.$0;n(0,a),l=o}else if(l!=null&&l.$==1)l=l.$0,i=1;else if(l!=null&&l.$==2)l=l.$0.Current;else if(l!=null&&l.$==6){const o=l.$0.Holes;return(a=>d=>{st(a,d)})(s)(o)}else return null;break;case 1:t.push(l),l=l.Children,i=0;break}}function r(i){return n(0,i)}function s(i){return n(1,i)}return r(e),oe(new at("New_2",t))}function oe(e){return{$:0,$0:e}}function qe(e,t){return oe(fl(e,t.$0))}function Pn(e,t){return oe(hl(e.$0,t.$0))}function Pe(e){return Vt(e.$0)}function Yi(e,t){return oe(dl(e.$0,t.$0))}function je(e){return t=>{try{e()(t)}catch(n){t.k(Ke(n))}}}function jt(e,t){return zi(n=>{e(Qn(r=>{if(r.$==0){const s=r.$0;_t().Fork(()=>{try{t(s)(n)}catch(i){n.k(Ke(i))}})}else _t().Fork(()=>{n.k(r)})},n.ct))})}function Ge(){return De.Zero}function Ki(e,t){const r=Zi()[0];_t().Fork(()=>{r.c||e(Qn(s=>{s.$==1&&Ji(s.$0)},r))})}function Ee(e){return t=>{t.k(ze(e))}}function _t(){return De.scheduler}function zi(e){return t=>{t.ct.c?Qi(t):e(t)}}function Zi(){return De.defCTS}function Ji(e){console.log("WebSharper: Uncaught asynchronous exception",e)}function jn(e){return t=>{const n=[!1],r=s=>{n[0]?X("A continuation provided by Async.FromContinuations was invoked multiple times"):(n[0]=!0,_t().Fork(s))};e(s=>{r(()=>{t.k(ze(s))})},s=>{r(()=>{t.k(Ke(s))})},s=>{r(()=>{t.k(Xn(s))})})}}function Qi(e){e.k(Xn(new Yl("New",e.ct)))}function Xi(){return Kn.UseAnimations}function tl(e){return nl(Le(t=>t.$==1?N(t.$0):null,Zn(e.$0)))}function el(e){st(t=>{t.$==0&&t.$0()},Zn(e.$0))}function nl(e){const t=be(e),n=q(t);if(n===0)return sl();if(n===1)return F(t,0);{const r=zr(Tt(i=>i.Duration,t)),s=gt(i=>il(r,i),t);return Bn(r,i=>{st(l=>{l.Compute(i)},s)})}}function rl(e){return e.$0}function sl(e){return Bn(0,()=>e)}function Bn(e,t){return{Compute:t,Duration:e}}function il(e,t){const n=t.Compute,r=t.Duration,s=Kl(()=>t.Compute(t.Duration));return{Compute:i=>i>=r?s.f():n(i),Duration:e}}let Yn=ft(e=>{var t;return t=class{},Yn=e(t),c(t,"BatchUpdatesEnabled"),t.BatchUpdatesEnabled=!0,t});function Ve(e){let t=[];for(var n in e)t.push.apply(t,e[n]);return t}let Be=ft(e=>{var t;return t=class{},Be=e(t),c(t,"counter"),t.counter=0,t}),Lt=ft(e=>{var t;return t=class{},Lt=e(t),c(t,"defaultWrap"),c(t,"wrapMap"),c(t,"rhtml"),c(t,"rtagName"),c(t,"rxhtmlTag"),(()=>{t.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi"),t.rtagName=new RegExp("<([\\w:]+)"),t.rhtml=new RegExp("<|&#?\\w+;");const r=[1,"<table>","</table>"];let s=Object.fromEntries([["option",[1,"<select multiple='multiple'>","</select>"]],["legend",[1,"<fieldset>","</fieldset>"]],["area",[1,"<map>","</map>"]],["param",[1,"<object>","</object>"]],["thead",r],["tbody",r],["tfoot",r],["tr",[2,"<table><tbody>","</tbody></table>"]],["col",[2,"<table><colgroup>","</colgoup></table>"]],["td",[3,"<table><tbody><tr>","</tr></tbody></table>"]]]);t.wrapMap=s,t.defaultWrap=[0,"",""]})(),t}),Kn=ft(e=>{var t;return t=class{},Kn=e(t),c(t,"UseAnimations"),c(t,"CubicInOut"),t.CubicInOut=Ye.Custom(r=>{const s=r*r;return 3*s-2*(s*r)}),t.UseAnimations=!0,t});function zn(e,t){return e.$==0?t:t.$==0?e:{$:2,$0:e,$1:t}}function Zn(e){const t=[];function n(r){for(;;){if(r.$==1)return t.push(r.$0);if(r.$==2){const s=r.$1,i=r.$0;n(i),r=s}else return r.$==3?st(s=>{t.push(s)},r.$0):null}}return n(e),t.slice(0)}function ll(e){const t=be(e);return Se(Jn(),zn,t)}function Jn(){return er.Empty}class ol extends Z{constructor(n,r){super();c(this,"push");c(this,"value");c(this,"dirty");c(this,"updates");this.push=r,this.value=void 0,this.dirty=!1,this.updates=Y(s=>{this.value=s,this.dirty=!0},n)}get NChanged(){return this.updates}NGetExitAnim(n){return ke()}NGetEnterAnim(n){return ke()}NGetChangeAnim(n){return ke()}NSync(n){this.dirty&&(this.push(n)(this.value),this.dirty=!1)}}class ul extends Error{static New(){return new this("New")}static New_1(t){return new this("New_1",t)}constructor(t,n){if(t=="New"&&(t="New_1",n="The given key was not present in the dictionary."),t=="New_1"){const r=n;super(r)}}}let H=ft(e=>{var t;return t=class{},H=e(t),c(t,"FloatApplyChecked"),c(t,"FloatGetChecked"),c(t,"FloatSetChecked"),c(t,"FloatApplyUnchecked"),c(t,"FloatGetUnchecked"),c(t,"FloatSetUnchecked"),c(t,"IntApplyChecked"),c(t,"IntGetChecked"),c(t,"IntSetChecked"),c(t,"IntApplyUnchecked"),c(t,"IntGetUnchecked"),c(t,"IntSetUnchecked"),c(t,"FileApplyUnchecked"),c(t,"FileGetUnchecked"),c(t,"FileSetUnchecked"),c(t,"DateTimeApplyUnchecked"),c(t,"DateTimeGetUnchecked"),c(t,"DateTimeSetUnchecked"),c(t,"StringListApply"),c(t,"StringListGet"),c(t,"StringListSet"),c(t,"StringApply"),c(t,"StringGet"),c(t,"StringSet"),c(t,"BoolCheckedApply"),c(t,"EmptyAttr"),(()=>{t.EmptyAttr=null,t.BoolCheckedApply=u=>[h=>{h.addEventListener("change",()=>u.Get()!=h.checked?u.Set(h.checked):null)},h=>f=>f!=null&&f.$==1?void(h.checked=f.$0):null,Y(N,u.View)],t.StringSet=u=>h=>{u.value=h},t.StringGet=u=>N(u.value);const r=wl(),s=$l();t.StringApply=u=>At(r,s,u),t.StringListSet=u=>h=>{const f=u.options;for(let $=0,T=f.length-1;$<=T;$++)(()=>{const M=f.item($);M.selected=hi(M.value,h)})()},t.StringListGet=u=>{const h=u.selectedOptions;return N(Qt(en(()=>Kr(f=>[h.item(f).value],Qe(0,h.length-1)))))};const i=yl(),l=gl();t.StringListApply=u=>At(i,l,u),t.DateTimeSetUnchecked=u=>h=>{u.value=new Date(h).toLocaleString()},t.DateTimeGetUnchecked=u=>{let h,f;const $=u.value;if(Ht($))return N(-864e13);{h=0;const T=jl($);return f=[T!=null&&T.$==1&&(h=T.$0,!0),h],f[0]?N(f[1]):null}};const o=vl(),a=Nl();t.DateTimeApplyUnchecked=u=>At(o,a,u),t.FileSetUnchecked=()=>()=>null,t.FileGetUnchecked=u=>{const h=u.files;return N(Qt(en(()=>Tt(f=>h.item(f),Qe(0,h.length-1)))))};const d=Tl(),w=Cl();t.FileApplyUnchecked=u=>Al(d,w,u),t.IntSetUnchecked=u=>h=>{u.value=String(h)},t.IntGetUnchecked=u=>{const h=u.value;if(Ht(h))return N(0);{const f=+h;return f!==f>>0?null:N(f)}};const A=Sl(),g=xl();t.IntApplyUnchecked=u=>At(A,g,u),t.IntSetChecked=u=>h=>{const f=h.Input;return u.value!=f?void(u.value=f):null},t.IntGetChecked=u=>{let h,f;const $=u.value;if(Ht($))h=!u.checkValidity||u.checkValidity()?it.Blank($):it.Invalid($);else{const T=(f=0,[$s($,{get:()=>f,set:M=>{f=M}}),f]);h=T[0]?it.Valid(T[1],$):it.Invalid($)}return N(h)};const x=El(),O=bl();t.IntApplyChecked=u=>At(x,O,u),t.FloatSetUnchecked=u=>h=>{u.value=String(h)},t.FloatGetUnchecked=u=>{const h=u.value;if(Ht(h))return N(0);{const f=+h;return isNaN(f)?null:N(f)}};const C=kl(),G=Dl();t.FloatApplyUnchecked=u=>At(C,G,u),t.FloatSetChecked=u=>h=>{const f=h.Input;return u.value!=f?void(u.value=f):null},t.FloatGetChecked=u=>{let h;const f=u.value;if(Ht(f))h=!u.checkValidity||u.checkValidity()?it.Blank(f):it.Invalid(f);else{const $=+f;h=isNaN($)?it.Invalid(f):it.Valid($,f)}return N(h)};const V=Vl(),L=_l();t.FloatApplyChecked=u=>At(V,L,u)})(),t});class cl extends Z{constructor(){super();c(this,"idle");c(this,"robin");this.idle=!0,this.robin=[]}Fork(n){this.robin.push(n),this.idle&&(this.idle=!1,setTimeout(()=>{this.tick()},0))}tick(){const n=Date.now();let r=!0;for(;r;)this.robin.length===0?(this.idle=!0,r=!1):(this.robin.shift()(),Date.now()-n>40&&(setTimeout(()=>{this.tick()},0),r=!1))}}class Ye extends Z{constructor(n){super();c(this,"transformTime");this.transformTime=n}static Custom(n){return new Ye(n)}}function Qn(e,t){return{k:e,ct:t}}function Ke(e){return{$:1,$0:e}}function ze(e){return{$:0,$0:e}}function Xn(e){return{$:2,$0:e}}let De=ft(e=>{var t;return t=class{},De=e(t),c(t,"GetCT"),c(t,"Zero"),c(t,"defCTS"),c(t,"scheduler"),c(t,"noneCT"),t.noneCT=al(!1,[]),t.scheduler=new cl,t.defCTS=[new Ul],t.Zero=Ee(),t.GetCT=r=>{r.k(ze(r.ct))},t});function al(e,t){return{c:e,r:t}}function fl(e,t){return new at("New_2",re(e,Vt(t)))}function hl(e,t){const n=new at("New_2",Vt(t));return n.ExceptWith(Vt(e)),n}function Vt(e){const t=is(e.Count,void 0);return e.CopyTo(t,0),t}function dl(e,t){const n=new at("New_2",Vt(e));return n.IntersectWith(Vt(t)),n}function pl(e){return e.$==1?e.$0:tr()}function ml(e){return e.$==1?e.$1:tr()}function tr(){return X("The input list was empty.")}function At(e,t,n){let r;return r=null,[s=>{const i=()=>{n.UpdateMaybe(l=>{let o;return r=e(s),r!=null&&r.$==1&&!_(r.$0,l)&&(o=[r,r.$0],!0)?o[0]:null})};s.addEventListener("change",i),s.addEventListener("input",i),s.addEventListener("keypress",i)},s=>{const i=t(s);return l=>l==null?null:i(l.$0)},Y(s=>r!=null&&r.$==1&&_(r.$0,s)&&(r.$0,!0)?null:N(s),n.View)]}function $l(){return H.StringSet}function wl(){return H.StringGet}function gl(){return H.StringListSet}function yl(){return H.StringListGet}function Nl(){return H.DateTimeSetUnchecked}function vl(){return H.DateTimeGetUnchecked}function Al(e,t,n){let r;return r=null,[s=>{s.addEventListener("change",()=>{n.UpdateMaybe(i=>{let l;return r=e(s),r!=null&&r.$==1&&r.$0!==i&&(l=[r,r.$0],!0)?l[0]:null})})},s=>{const i=t(s);return l=>l==null?null:i(l.$0)},Y(s=>r!=null&&r.$==1&&_(r.$0,s)&&(r.$0,!0)?null:N(s),n.View)]}function Cl(){return H.FileSetUnchecked}function Tl(){return H.FileGetUnchecked}function xl(){return H.IntSetUnchecked}function Sl(){return H.IntGetUnchecked}function bl(){return H.IntSetChecked}function El(){return H.IntGetChecked}function Dl(){return H.FloatSetUnchecked}function kl(){return H.FloatGetUnchecked}function _l(){return H.FloatSetChecked}function Vl(){return H.FloatGetChecked}function Ml(){return H.StringApply}function Fl(){return H.FloatApplyUnchecked}function Ol(){return H.BoolCheckedApply}function Gl(){return H.DateTimeApplyUnchecked}function Ll(){return H.FileApplyUnchecked}function Il(){return H.StringListApply}function Ht(e){return Ri(Pl,e)}class it{get Input(){return this.$==1?this.$0:this.$==2?this.$0:this.$1}static Blank(t){return ct(it,{$:2,$0:t})}static Invalid(t){return ct(it,{$:1,$0:t})}static Valid(t,n){return ct(it,{$:0,$0:t,$1:n})}}class Ul extends Z{constructor(){super();c(this,"init");c(this,"c");c(this,"pending");c(this,"r");this.c=!1,this.pending=null,this.r=[],this.init=1}}function Wl(e,t){let n;if(t!=null&&t.$==1){const r=[];for(n=t.$0[0].nextSibling;n!==t.$0[1];)r.push(n),n=n.nextSibling;return Ne(r)}else{let r=e.childNodes.length;const s=e.childNodes;let i=ls(r,l=>s[l]);return Ne(i)}}function Rl(e,t){const n=e.$0;return Ne(re(r=>Tn(s=>r!==s,n),t.$0))}function Hl(e,t){st(e,t.$0)}function ql(e){const t=[];function n(r){for(;;)if(r!=null&&r.$==2)r=r.$0.Current;else{if(r!=null&&r.$==1)return t.push(r.$0.El);if(r==null)return null;if(r!=null&&r.$==5)return t.push(r.$0);if(r!=null&&r.$==4)return t.push(r.$0.Text);if(r!=null&&r.$==6){const s=r.$0.Els;return(i=>l=>{st(i,l)})(i=>{i==null||i.constructor===Object?n(i):t.push(i)})(s)}else{const s=r.$1,i=r.$0;n(i),r=s}}}return n(e.Children),Ne(be(t))}function Ne(e){return{$:0,$0:e}}function Pl(e){return e.match(new RegExp("\\s"))!==null}function jl(e){const t=Date.parse(e);return isNaN(t)?null:N(t)}function Bl(e,t,n,r){const s=+e,i=s===s-s%1&&s>=t&&s<=n;return i&&r.set(s),i}class Yl extends Error{constructor(n,r,s,i){var t=(...ro)=>(super(...ro),c(this,"ct"),this);let l;if(n=="New"&&(l=r,n="New_1",r="The operation was canceled.",s=null,i=l),n=="New_1"){const o=r,a=s,d=i;t(o),this.inner=a,this.ct=d}}static New(n){return new this("New",n)}static New_1(n,r,s){return new this("New_1",n,r,s)}}function Kl(e){return Ql(!1,e,zl)}function zl(){const e=this.v();return this.c=!0,this.v=e,this.f=Zl,e}function Zl(){return this.v}let er=ft(e=>{var t;return t=class{},er=e(t),c(t,"Empty"),t.Empty={$:0},t});function Jl(e){e.splice(0,q(e))}function Ql(e,t,n){return{c:e,v:t,f:n}}ur(()=>{wr()});cr();
