var nr=Object.defineProperty;var rr=(e,t,n)=>t in e?nr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var c=(e,t,n)=>rr(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();document.write("");function ct(e,t){return Object.assign(Object.create(e.prototype),t)}const sr=Symbol("force");function ht(e){var t;function n(){return t||(t=e(s=>t=s)),t}return new Proxy(Function(),{get(s,i){return i==sr&&n(),n()[i]},set(s,i,u){return n()[i]=u,!0},construct(s,i,u){return Reflect.construct(n(),i,u)}})}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];e[r]===void 0&&delete e[r]}return e}function Kt(e){return e===void 0?null:{$:1,$0:e}}function Bt(e,t,n){n?e[t]=n.$0:delete e[t]}function ur(e){return function(...t){return e(t)}}function lr(e){return Object.defineProperty(e,"resizable",{enumerable:!1,writable:!1,configurable:!1,value:!0}),e}let ae=[];function or(e){ae.push(e)}function cr(){for(var e=0;e<ae.length;e++)ae[e]();ae=[]}function hn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var he={exports:{}},ar=he.exports,Je;function hr(){return Je||(Je=1,function(e,t){(function(n,r){e.exports=r()})(ar,function(){var n=1e3,r=6e4,s=36e5,i="millisecond",u="second",l="minute",a="hour",d="day",w="week",N="month",m="quarter",x="year",I="date",C="Invalid Date",L=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,U={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(T){var $=["th","st","nd","rd"],p=T%100;return"["+T+($[(p-20)%10]||$[p]||$[0])+"]"}},o=function(T,$,p){var v=String(T);return!v||v.length>=$?T:""+Array($+1-v.length).join(p)+T},f={s:o,z:function(T){var $=-T.utcOffset(),p=Math.abs($),v=Math.floor(p/60),y=p%60;return($<=0?"+":"-")+o(v,2,"0")+":"+o(y,2,"0")},m:function T($,p){if($.date()<p.date())return-T(p,$);var v=12*(p.year()-$.year())+(p.month()-$.month()),y=$.clone().add(v,N),D=p-y<0,E=$.clone().add(v+(D?-1:1),N);return+(-(v+(p-y)/(D?y-E:E-y))||0)},a:function(T){return T<0?Math.ceil(T)||0:Math.floor(T)},p:function(T){return{M:N,y:x,w,d,D:I,h:a,m:l,s:u,ms:i,Q:m}[T]||String(T||"").toLowerCase().replace(/s$/,"")},u:function(T){return T===void 0}},h="en",g={};g[h]=U;var A="$isDayjsObject",G=function(T){return T instanceof Y||!(!T||!T[A])},R=function T($,p,v){var y;if(!$)return h;if(typeof $=="string"){var D=$.toLowerCase();g[D]&&(y=D),p&&(g[D]=p,y=D);var E=$.split("-");if(!y&&E.length>1)return T(E[0])}else{var H=$.name;g[H]=$,y=H}return!v&&y&&(h=y),y||!v&&h},k=function(T,$){if(G(T))return T.clone();var p=typeof $=="object"?$:{};return p.date=T,p.args=arguments,new Y(p)},S=f;S.l=R,S.i=G,S.w=function(T,$){return k(T,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var Y=function(){function T(p){this.$L=R(p.locale,null,!0),this.parse(p),this.$x=this.$x||p.x||{},this[A]=!0}var $=T.prototype;return $.parse=function(p){this.$d=function(v){var y=v.date,D=v.utc;if(y===null)return new Date(NaN);if(S.u(y))return new Date;if(y instanceof Date)return new Date(y);if(typeof y=="string"&&!/Z$/i.test(y)){var E=y.match(L);if(E){var H=E[2]-1||0,q=(E[7]||"0").substring(0,3);return D?new Date(Date.UTC(E[1],H,E[3]||1,E[4]||0,E[5]||0,E[6]||0,q)):new Date(E[1],H,E[3]||1,E[4]||0,E[5]||0,E[6]||0,q)}}return new Date(y)}(p),this.init()},$.init=function(){var p=this.$d;this.$y=p.getFullYear(),this.$M=p.getMonth(),this.$D=p.getDate(),this.$W=p.getDay(),this.$H=p.getHours(),this.$m=p.getMinutes(),this.$s=p.getSeconds(),this.$ms=p.getMilliseconds()},$.$utils=function(){return S},$.isValid=function(){return this.$d.toString()!==C},$.isSame=function(p,v){var y=k(p);return this.startOf(v)<=y&&y<=this.endOf(v)},$.isAfter=function(p,v){return k(p)<this.startOf(v)},$.isBefore=function(p,v){return this.endOf(v)<k(p)},$.$g=function(p,v,y){return S.u(p)?this[v]:this.set(y,p)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(p,v){var y=this,D=!!S.u(v)||v,E=S.p(p),H=function(vt,et){var gt=S.w(y.$u?Date.UTC(y.$y,et,vt):new Date(y.$y,et,vt),y);return D?gt:gt.endOf(d)},q=function(vt,et){return S.w(y.toDate()[vt].apply(y.toDate("s"),(D?[0,0,0,0]:[23,59,59,999]).slice(et)),y)},X=this.$W,P=this.$M,Q=this.$D,lt="set"+(this.$u?"UTC":"");switch(E){case x:return D?H(1,0):H(31,11);case N:return D?H(1,P):H(0,P+1);case w:var ot=this.$locale().weekStart||0,Ht=(X<ot?X+7:X)-ot;return H(D?Q-Ht:Q+(6-Ht),P);case d:case I:return q(lt+"Hours",0);case a:return q(lt+"Minutes",1);case l:return q(lt+"Seconds",2);case u:return q(lt+"Milliseconds",3);default:return this.clone()}},$.endOf=function(p){return this.startOf(p,!1)},$.$set=function(p,v){var y,D=S.p(p),E="set"+(this.$u?"UTC":""),H=(y={},y[d]=E+"Date",y[I]=E+"Date",y[N]=E+"Month",y[x]=E+"FullYear",y[a]=E+"Hours",y[l]=E+"Minutes",y[u]=E+"Seconds",y[i]=E+"Milliseconds",y)[D],q=D===d?this.$D+(v-this.$W):v;if(D===N||D===x){var X=this.clone().set(I,1);X.$d[H](q),X.init(),this.$d=X.set(I,Math.min(this.$D,X.daysInMonth())).$d}else H&&this.$d[H](q);return this.init(),this},$.set=function(p,v){return this.clone().$set(p,v)},$.get=function(p){return this[S.p(p)]()},$.add=function(p,v){var y,D=this;p=Number(p);var E=S.p(v),H=function(P){var Q=k(D);return S.w(Q.date(Q.date()+Math.round(P*p)),D)};if(E===N)return this.set(N,this.$M+p);if(E===x)return this.set(x,this.$y+p);if(E===d)return H(1);if(E===w)return H(7);var q=(y={},y[l]=r,y[a]=s,y[u]=n,y)[E]||1,X=this.$d.getTime()+p*q;return S.w(X,this)},$.subtract=function(p,v){return this.add(-1*p,v)},$.format=function(p){var v=this,y=this.$locale();if(!this.isValid())return y.invalidDate||C;var D=p||"YYYY-MM-DDTHH:mm:ssZ",E=S.z(this),H=this.$H,q=this.$m,X=this.$M,P=y.weekdays,Q=y.months,lt=y.meridiem,ot=function(et,gt,Yt,oe){return et&&(et[gt]||et(v,D))||Yt[gt].slice(0,oe)},Ht=function(et){return S.s(H%12||12,et,"0")},vt=lt||function(et,gt,Yt){var oe=et<12?"AM":"PM";return Yt?oe.toLowerCase():oe};return D.replace(O,function(et,gt){return gt||function(Yt){switch(Yt){case"YY":return String(v.$y).slice(-2);case"YYYY":return S.s(v.$y,4,"0");case"M":return X+1;case"MM":return S.s(X+1,2,"0");case"MMM":return ot(y.monthsShort,X,Q,3);case"MMMM":return ot(Q,X);case"D":return v.$D;case"DD":return S.s(v.$D,2,"0");case"d":return String(v.$W);case"dd":return ot(y.weekdaysMin,v.$W,P,2);case"ddd":return ot(y.weekdaysShort,v.$W,P,3);case"dddd":return P[v.$W];case"H":return String(H);case"HH":return S.s(H,2,"0");case"h":return Ht(1);case"hh":return Ht(2);case"a":return vt(H,q,!0);case"A":return vt(H,q,!1);case"m":return String(q);case"mm":return S.s(q,2,"0");case"s":return String(v.$s);case"ss":return S.s(v.$s,2,"0");case"SSS":return S.s(v.$ms,3,"0");case"Z":return E}return null}(et)||E.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(p,v,y){var D,E=this,H=S.p(v),q=k(p),X=(q.utcOffset()-this.utcOffset())*r,P=this-q,Q=function(){return S.m(E,q)};switch(H){case x:D=Q()/12;break;case N:D=Q();break;case m:D=Q()/3;break;case w:D=(P-X)/6048e5;break;case d:D=(P-X)/864e5;break;case a:D=P/s;break;case l:D=P/r;break;case u:D=P/n;break;default:D=P}return y?D:S.a(D)},$.daysInMonth=function(){return this.endOf(N).$D},$.$locale=function(){return g[this.$L]},$.locale=function(p,v){if(!p)return this.$L;var y=this.clone(),D=R(p,v,!0);return D&&(y.$L=D),y},$.clone=function(){return S.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},T}(),B=Y.prototype;return k.prototype=B,[["$ms",i],["$s",u],["$m",l],["$H",a],["$W",d],["$M",N],["$y",x],["$D",I]].forEach(function(T){B[T[1]]=function($){return this.$g($,T[0],T[1])}}),k.extend=function(T,$){return T.$i||(T($,Y,k),T.$i=!0),k},k.locale=R,k.isDayjs=G,k.unix=function(T){return k(1e3*T)},k.en=g[h],k.Ls=g,k.p={},k})}(he)),he.exports}var fr=hr();const fe=hn(fr);var de={exports:{}},dr=de.exports,Qe;function $r(){return Qe||(Qe=1,function(e,t){(function(n,r){e.exports=r()})(dr,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(i,u,l){var a=u.prototype;l.utc=function(C){var L={date:C,utc:!0,args:arguments};return new u(L)},a.utc=function(C){var L=l(this.toDate(),{locale:this.$L,utc:!0});return C?L.add(this.utcOffset(),n):L},a.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var d=a.parse;a.parse=function(C){C.utc&&(this.$u=!0),this.$utils().u(C.$offset)||(this.$offset=C.$offset),d.call(this,C)};var w=a.init;a.init=function(){if(this.$u){var C=this.$d;this.$y=C.getUTCFullYear(),this.$M=C.getUTCMonth(),this.$D=C.getUTCDate(),this.$W=C.getUTCDay(),this.$H=C.getUTCHours(),this.$m=C.getUTCMinutes(),this.$s=C.getUTCSeconds(),this.$ms=C.getUTCMilliseconds()}else w.call(this)};var N=a.utcOffset;a.utcOffset=function(C,L){var O=this.$utils().u;if(O(C))return this.$u?0:O(this.$offset)?N.call(this):this.$offset;if(typeof C=="string"&&(C=function(h){h===void 0&&(h="");var g=h.match(r);if(!g)return null;var A=(""+g[0]).match(s)||["-",0,0],G=A[0],R=60*+A[1]+ +A[2];return R===0?0:G==="+"?R:-R}(C),C===null))return this;var U=Math.abs(C)<=16?60*C:C,o=this;if(L)return o.$offset=U,o.$u=C===0,o;if(C!==0){var f=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(U+f,n)).$offset=U,o.$x.$localOffset=f}else o=this.utc();return o};var m=a.format;a.format=function(C){var L=C||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return m.call(this,L)},a.valueOf=function(){var C=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*C},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var x=a.toDate;a.toDate=function(C){return C==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():x.call(this)};var I=a.diff;a.diff=function(C,L,O){if(C&&this.$u===C.$u)return I.call(this,C,L,O);var U=this.local(),o=l(C).local();return I.call(U,o,L,O)}}})}(de)),de.exports}var pr=$r();const gr=hn(pr);function ut(e){return"Dispose"in e}function wr(){const e=new fe,t=new Cr("New_1"),n=(t.h.push(Rt(t.k,"shownow",()=>t.i,()=>{mr(e)})),t),r=(n.h.push(Rt(n.k,"add7days",()=>n.i,()=>{yr(e)})),n),s=(r.h.push(Rt(r.k,"showformatted",()=>r.i,()=>{br(e)})),r),i=(s.h.push(Rt(s.k,"daysuntil2026",()=>s.i,()=>{vr(e)})),s),u=(i.h.push(Rt(i.k,"showutcnow",()=>i.i,()=>{fe.extend(gr);const m=new fe().utc();Dt().Set("Current UTC Time: "+String(m)+" UTC")})),i),l=(u.h.push(new Gr("result",Dt().View)),u),a=xr(l.k,l.h,[]),d=new Nr(a[1],Mr(a[0])),N=(l.i=d,d).Doc;wn(""),rt.RunById("main",N)}function Dt(){return pn.result}function mr(e){Dt().Set("Now: "+e.format())}function yr(e){const t="7 days from now: "+e.add(7,"day").format("YYYY-MM-DD HH:mm:ss");Dt().Set(t)}function br(e){const t="Today is: "+e.format("dddd, MMMM D, YYYY");Dt().Set(t)}function vr(e){const t=new fe("2026-01-01").diff(e,"day");Dt().Set("Days until 2026: "+String(t))}function V(e){throw new Error(e)}function Tt(e){return[e.K,e.V]}function We(e,t){const n=1+t-e;return n<=0?[]:Qr(n,r=>r+e)}class J{Equals(t){return this===t}GetHashCode(){return-1}}class Nr extends J{constructor(n,r){super();c(this,"doc");c(this,"allVars");c(this,"anchorRoot");this.doc=r,this.allVars=n.$==0?n.$0:V("Should not happen"),this.anchorRoot=null}get Doc(){return this.doc}SetAnchorRoot(n){this.anchorRoot=n}}function F(e,t){return dn(e,t),e[t]}function fn(e,t,n){dn(e,t),e[t]=n}function dn(e,t){(t<0||t>=e.length)&&V("Index was outside the bounds of the array.")}function Z(e){return e.dims===2?e.length*e.length:e.length}class Cr extends J{constructor(n){var t=(...tl)=>(super(...tl),c(this,"i"),c(this,"k"),c(this,"h"),c(this,"s"),this);if(n=="New_1"){let r;t(),this.i=null,this.k=(r=Fr(),String(r)),this.h=lr([]),Bt(this,"s",null)}}static New_1(){return new this("New_1")}}class tt extends J{ForTextView(){return console.warn("Content hole filled with attribute data",this.Name),null}AddAttribute(t,n){console.warn("Var hole filled with non-Var data",this.Name)}get AsChoiceView(){return console.warn("Attribute value hole filled with non-text data",this.Name),je("")}}class Ar extends J{}function Rt(e,t,n,r){return new gn(t,s=>i=>{const u=n();return u.SetAnchorRoot(s),r({Vars:u,Anchors:u,Target:s,Event:i})})}function xr(e,t,n){const r=new ft("New_5"),s=new at("New_3"),i=_(t);try{for(;i.MoveNext();){const u=i.Current,l=u.Name;s.SAdd(l),r.set_Item(l,u)}}finally{typeof i=="object"&&ut(i)&&i.Dispose()}return[yn(t,Ue(u=>{const l=u[0],a=u[1],d=u[2];if(s.Contains(l))return null;{const w=a===0?nt.GetOrAddHoleFor(e,l,()=>{const N=d==null?null:b(d.$0);let m=pt.Create_1(N==null?"":N.$0);return new ls(l,m)}):a===1?nt.GetOrAddHoleFor(e,l,()=>{const N=d==null?null:b(d.$0);let m=pt.Create_1(N==null?0:N.$0);return new os(l,m)}):a===2?nt.GetOrAddHoleFor(e,l,()=>{const N=d==null?null:b(d.$0);let m=pt.Create_1(N==null?!1:N.$0);return new cs(l,m)}):a===3?nt.GetOrAddHoleFor(e,l,()=>{const N=d==null?null:b(d.$0);let m=pt.Create_1(N==null?-864e13:N.$0);return new as(l,m)}):a===4?nt.GetOrAddHoleFor(e,l,()=>new hs(l,pt.Create_1([]))):a===5?nt.GetOrAddHoleFor(e,l,()=>new xn(l,pt.Create_1(b(globalThis.document.querySelector("[ws-dom="+l+"]"))))):a===6?nt.GetOrAddHoleFor(e,l,()=>{const N=d==null?null:b(d.$0);let m=pt.Create_1(N==null?[]:N.$0);return new ds(l,m)}):V("Invalid value type");return r.set_Item(l,w),b(w)}},n)),{$:0,$0:r}]}function M(e,t){if(e===t)return!0;{const s=typeof e;if(s=="object"){if(e==null||t===null||t===void 0||!M(typeof t,"object"))return!1;if("Equals"in e)return e.Equals(t);if("Equals"in t)return!1;if(e instanceof Array&&t instanceof Array)return Ve(e,t);if(e instanceof Date&&t instanceof Date)return Tr(e,t);{const i=[!0];for(var n in e)if((u=>(i[0]=!e.hasOwnProperty(u)||t.hasOwnProperty(u)&&M(e[u],t[u]),!i[0]))(n))break;if(i[0]){for(var r in t)if((u=>(i[0]=!t.hasOwnProperty(u)||e.hasOwnProperty(u),!i[0]))(r))break}return i[0]}}else return s=="function"&&("$Func"in e?e.$Func===t.$Func&&e.$Target===t.$Target:"$Invokes"in e&&"$Invokes"in t&&Ve(e.$Invokes,t.$Invokes))}}function Ve(e,t){let n,r;if(Z(e)===Z(t)){for(n=!0,r=0;n&&r<Z(e);)M(F(e,r),F(t,r))||(n=!1),r=r+1;return n}else return!1}function Tr(e,t){return e.getTime()===t.getTime()}function zt(e){const t=typeof e;return t=="function"?0:t=="boolean"?e?1:0:t=="number"?e:t=="string"?$n(e):t=="object"?e==null?0:e instanceof Array?Sr(e):Dr(e):0}function $n(e){let t;if(e===null)return 0;t=5381;for(let n=0,r=e.length-1;n<=r;n++)t=$e(t,e[n].charCodeAt());return t}function Sr(e){let t=-34948909;for(let n=0,r=Z(e)-1;n<=r;n++)t=$e(t,zt(F(e,n)));return t}function Dr(e){if("GetHashCode"in e)return e.GetHashCode();{const n=[0];for(var t in e)(r=>(n[0]=$e($e(n[0],$n(r)),zt(e[r])),!1))(t);return n[0]}}function $e(e,t){return(e<<5)+e+t}function ve(e,t){if(e===t)return 0;{const s=typeof e;switch(s=="function"?1:s=="boolean"||s=="number"||s=="string"?2:s=="object"?3:0){case 0:return typeof t>"u"?0:-1;case 1:return V("Cannot compare function values.");case 2:return e<t?-1:1;case 3:if(e===null)return-1;if(t===null)return 1;if("CompareTo"in e)return e.CompareTo(t);if("CompareTo0"in e)return e.CompareTo0(t);if(e instanceof Array&&t instanceof Array)return Er(e,t);if(e instanceof Date&&t instanceof Date)return kr(e,t);{const i=[0];for(var n in e)if((u=>e.hasOwnProperty(u)?t.hasOwnProperty(u)?(i[0]=ve(e[u],t[u]),i[0]!==0):(i[0]=1,!0):!1)(n))break;if(i[0]===0){for(var r in t)if((u=>t.hasOwnProperty(u)?!e.hasOwnProperty(u)&&(i[0]=-1,!0):!1)(r))break}return i[0]}}}}function Er(e,t){let n,r;if(Z(e)<Z(t))return-1;if(Z(e)>Z(t))return 1;for(n=0,r=0;n===0&&r<Z(e);)n=ve(F(e,r),F(t,r)),r=r+1;return n}function kr(e,t){return ve(e.getTime(),t.getTime())}function Mr(e){return wn("index"),e?Ir("index",b("main"),e):void 0}class Or extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}get Value(){return this.fillWith}get AsChoiceView(){return je(this.fillWith)}}class Gr extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return b(this.fillWith)}get AsChoiceView(){return xt(this.fillWith)}}let pn=ht(e=>{var t;return t=class{},pn=e(t),c(t,"result"),t.result=pt.Create_1(""),t});function Fr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]","g"),e=>{const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}class gn extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}get Value(){return this.fillWith}}function b(e){return{$:1,$0:e}}function wn(e){Lr()||(Ur(!0),Hr(globalThis.document.body,"")),Jt().set_Item(e,Ne(""))}function Ir(e,t,n){let r;const s=(r=null,[Ne(e).TryGetValue(t==null?"":t.$0,{get:()=>r,set:i=>{r=i}}),r]);return s[0]?Yr(s[1].cloneNode(!0),n):(console.warn("Local template doesn't exist",t),rt.Empty)}function Lr(){return Ft.LocalTemplatesLoaded}function Ur(e){Ft.LocalTemplatesLoaded=e}function Hr(e,t){const n=Ne(t),r=new ft("New_5"),s=e.querySelectorAll("[ws-template]");for(let w=0,N=s.length-1;w<=N;w++){const m=s[w],x=m.getAttribute("ws-template").toLowerCase();m.removeAttribute("ws-template"),r.set_Item(x,mn(m))}const i=e.querySelectorAll("[ws-children-template]");for(let w=0,N=i.length-1;w<=N;w++){const m=i[w],x=m.getAttribute("ws-children-template").toLowerCase();m.removeAttribute("ws-children-template"),r.set_Item(x,Rr(m))}const u=e.querySelectorAll("template[id]");for(let w=0,N=u.length-1;w<=N;w++){const m=u[w];r.set_Item(m.getAttribute("id").toLowerCase(),tn(m))}const l=e.querySelectorAll("template[name]");for(let w=0,N=l.length-1;w<=N;w++){const m=l[w];r.set_Item(m.getAttribute("name").toLowerCase(),tn(m))}const a=new at("New_3");function d(w){if(!n.ContainsKey(w)){let N;const m=(N=null,[r.TryGetValue(w,{get:()=>N,set:x=>{N=x}}),N]);m[0]?(a.SAdd(w),r.RemoveKey(w),Zt(t,b(w),m[1],b(d))):console.warn(a.Contains(w)?"Encountered loop when instantiating "+w:"Local template does not exist: "+w)}}for(;r.count>0;)d(_r(r.Keys))}function Jt(){return Ft.LoadedTemplates}function Ne(e){let t;const n=(t=null,[Jt().TryGetValue(e,{get:()=>t,set:r=>{t=r}}),t]);if(n[0])return n[1];{const r=new ft("New_5");return Jt().set_Item(e,r),r}}function Yr(e,t){const n=qr(e,yn(t,jr().Values)),r=n[1],s=n[0],i=s.Els;return!M(i,null)&&i.length===1&&F(i,0)instanceof Node&&M(F(i,0).nodeType,Node.ELEMENT_NODE)&&(F(i,0),!0)?Ye.TreeNode(s,r):rt.Mk(Tn(s),r)}function mn(e){e.removeAttribute("ws-template");const t=e.getAttribute("ws-replace");if(t!=null){e.removeAttribute("ws-replace");const r=e.parentNode;if(!M(r,null)){const s=globalThis.document.createElement(e.tagName);s.setAttribute("ws-replace",t),r.replaceChild(s,e)}}const n=globalThis.document.createElement("div");return n.appendChild(e),n}function Rr(e){const t=globalThis.document.createElement("div");for(;e.hasChildNodes();)t.appendChild(e.firstChild);return t}function tn(e){const t=globalThis.document.createElement("div"),n=e.content;for(let r=0,s=n.childNodes.length-1;r<=s;r++)t.appendChild(n.childNodes[r].cloneNode(!0));return t}function Zt(e,t,n,r){const s=new at("New_3");function i(m,x){for(;;)switch(m){case 0:if(x!==null){const o=x.nextSibling;M(x.nodeType,Node.TEXT_NODE)?Qs(x):M(x.nodeType,Node.ELEMENT_NODE)&&l(x),x=o}else return null;break;case 1:const I=wt(x.nodeName,b(3),null).toLowerCase(),C=I.indexOf("."),L=C===-1?[e,I]:[wt(I,null,b(C-1)),wt(I,b(C+1),null)],O=L[1],U=L[0];if(U!=""&&!Jt().ContainsKey(U))return sn(O);{U==""&&r!=null&&r.$0(O);const o=Jt().Item(U);if(o.ContainsKey(O)){const h=o.Item(O).cloneNode(!0),g=new at("New_3"),A=new ft("New_5"),G=x.attributes;for(let k=0,S=G.length-1;k<=S;k++){const Y=G.item(k).name.toLowerCase(),B=G.item(k).nodeValue;let T=B==""?Y:B.toLowerCase();A.set_Item(Y,T),g.SAdd(Y)||console.warn("Hole mapped twice",Y)}for(let k=0,S=x.childNodes.length-1;k<=S;k++){const Y=x.childNodes[k];M(Y.nodeType,Node.ELEMENT_NODE)&&(g.SAdd(Y.nodeName.toLowerCase())||console.warn("Hole filled twice",O))}const R=x.childNodes.length===1&&M(x.firstChild.nodeType,Node.TEXT_NODE);if(R){const k=Ws(h,x.firstChild.textContent,O),S=(B=>T=>B.SAdd(T))(g);(B=>T=>{T!=null&&B(T.$0)})(B=>{S(B)})(k)}if(Vs(h,g),!R)for(let k=0,S=x.childNodes.length-1;k<=S;k++){const Y=x.childNodes[k];M(Y.nodeType,Node.ELEMENT_NODE)&&(Y.hasAttributes()?ti(h,Y):u(h,Y))}ei(h,A),un(h,x.parentNode,x),x.parentNode.removeChild(x);return}else return sn(O)}}}function u(m,x){const I=x.nodeName.toLowerCase(),C=(O,U)=>{if(I=="title"&&x.hasChildNodes()){const o=ni(x.textContent);for(x.removeChild(x.firstChild);o.hasChildNodes();)x.appendChild(o.firstChild)}return l(x),un(x,O,U)};z(m,"[ws-attr-holes]",O=>{const U=$t(O.getAttribute("ws-attr-holes"),[" "],1);for(let o=0,f=U.length-1;o<=f;o++){const h=F(U,o);let g=new RegExp("\\${"+I+"}","ig"),A=O.getAttribute(h).replace(g,x.textContent);O.setAttribute(h,A)}});const L=m.querySelector("[ws-hole="+I+"]");if(M(L,null)){const O=m.querySelector("[ws-replace="+I+"]");if(M(O,null)){const U=m.querySelector("slot[name="+I+"]");return m.tagName.toLowerCase()=="template"?(C(U.parentNode,U),void U.parentNode.removeChild(U)):null}else{C(O.parentNode,O),O.parentNode.removeChild(O);return}}else{for(;L.hasChildNodes();)L.removeChild(L.lastChild);return L.removeAttribute("ws-hole"),C(L,null)}}function l(m){m.hasAttribute("ws-preserve")||(Ie(m.nodeName.toLowerCase(),"ws-")?d(m):(Fn(m),a(m.firstChild)))}function a(m){return i(0,m)}function d(m){return i(1,m)}function w(m){for(;;){const x=m.querySelector("[ws-template]");if(M(x,null)){const I=m.querySelector("[ws-children-template]");if(M(I,null)){const C=m.querySelectorAll("template[id]");for(let O=1,U=C.length-1;O<=U;O++){const o=C[O];s.Contains(o)||(Zt(e,b(o.getAttribute("id")),o,null),s.SAdd(o))}const L=m.querySelectorAll("template[name]");for(let O=1,U=L.length-1;O<=U;O++){const o=L[O];s.Contains(o)||(Zt(e,b(o.getAttribute("name")),o,null),s.SAdd(o))}return null}else{const C=I.getAttribute("ws-children-template");I.removeAttribute("ws-children-template"),Zt(e,b(C),I,null),m=m}}else{const I=x.getAttribute("ws-template");Zr(e,b(I),x)(null),m=m}}}const N=(t==null?"":t.$0).toLowerCase();Ne(e).set_Item(N,n),n.hasChildNodes()&&(w(n),a(n.firstChild))}function qr(e,t){let n;const r=[],s=[],i=[],u=[],l=new ft("New_5"),a=_(t);try{for(;a.MoveNext();){const o=a.Current;l.set_Item(o.Name,o)}}finally{typeof a=="object"&&ut(a)&&a.Dispose()}let d=ln(e);const w=(o,f)=>{const h=Hn(o,f);s.push(Yn(h)),i.push([o,h]);const g=Kt(h.OnAfterRender);if(g==null)return null;{const A=g.$0;u.push(()=>{A(o)});return}},N=o=>{let f;const h=(f=null,[l.TryGetValue(o,{get:()=>f,set:g=>{f=g}}),f]);if(h[0]){const g=h[1];if(g instanceof Ti)return b(g.Value);if(g instanceof Or)return b(rt.TextNode(g.Value));{const A=g.ForTextView();return A==null?null:b(rt.TextView(A.$0))}}else return null};z(e,"[ws-hole]",o=>{const f=o.getAttribute("ws-hole");for(o.removeAttribute("ws-hole");o.hasChildNodes();)o.removeChild(o.lastChild);const h=N(f);if(h!=null&&h.$==1){const g=h.$0;ge(o,g.docNode),r.push(St.New(Me(o),g.docNode,null,o,Xt(),null)),s.push(g.updates)}}),z(e,"[ws-replace]",o=>{const f=N(o.getAttribute("ws-replace"));if(f!=null&&f.$==1){const h=f.$0,g=o.parentNode,A=globalThis.document.createTextNode("");g.replaceChild(A,o);const G=Us(A,h.docNode);d=ln(e);const R=bn(k=>o===k,d);R==null||fn(d,R.$0,h.docNode),r.push(St.New(Me(g),h.docNode,b([G,A]),g,Xt(),null)),s.push(h.updates)}});let m=!1;z(e,"slot",o=>{const f=o.getAttribute("name"),h=f==""||f==null?"default":f.toLowerCase();if(!(m&&h=="default"||!M(e.parentElement,null))){for(;o.hasChildNodes();)o.removeChild(o.lastChild);h=="default"&&(m=!0);const g=N(h);if(g!=null&&g.$==1){const A=g.$0;ge(o,A.docNode),r.push(St.New(Me(o),A.docNode,null,o,Xt(),null)),s.push(A.updates)}}}),z(e,"[ws-attr]",o=>{let f;const h=o.getAttribute("ws-attr");o.removeAttribute("ws-attr");const g=(f=null,[l.TryGetValue(h,{get:()=>f,set:A=>{f=A}}),f]);if(g[0]){const A=g[1];A instanceof Si?w(o,A.Value):console.warn("Attribute hole filled with non-attribute data",h)}}),z(e,"[ws-on]",o=>{w(o,W.Concat(Ue(f=>{let h;const g=$t(f,[":"],1),A=(h=null,[l.TryGetValue(F(g,1),{get:()=>h,set:G=>{h=G}}),h]);if(A[0]){const G=A[1];return G instanceof Di?b(Ei(F(g,0),G.Value)):G instanceof gn?b(W.Handler(F(g,0),G.Value)):(console.warn("Event hole on"+F(g,0)+" filled with non-event data",F(g,1)),null)}else return null},$t(o.getAttribute("ws-on"),[" "],1)))),o.removeAttribute("ws-on")}),z(e,"[ws-onafterrender]",o=>{let f;const h=o.getAttribute("ws-onafterrender"),g=(f=null,[l.TryGetValue(h,{get:()=>f,set:A=>{f=A}}),f]);if(g[0]){const A=g[1];A instanceof Ui||A instanceof Hi?(o.removeAttribute("ws-onafterrender"),w(o,cn(A.Value))):console.warn("onafterrender hole filled with non-onafterrender data",h)}}),z(e,"[ws-var]",o=>{let f;const h=o.getAttribute("ws-var");o.removeAttribute("ws-var");const g=(f=null,[l.TryGetValue(h,{get:()=>f,set:A=>{f=A}}),f]);g[0]&&g[1].AddAttribute(A=>G=>w(A,G),o)});const x=()=>{Xr("[ws-dom]",o=>{let f,h,g;const A=(f=null,[l.TryGetValue(o.getAttribute("ws-dom").toLowerCase(),{get:()=>f,set:G=>{f=G}}),f]);if(A[0]){const G=A[1];if(G instanceof xn){const R=G.Value;o.removeAttribute("ws-dom"),h=o;const k=new MutationObserver((S,Y)=>{st(B=>{B.removedNodes.forEach(ur(T=>T[0]===h&&B.addedNodes.length!==1?(R.SetFinal(null),Y.disconnect()):null),null)},S)});o.parentElement!==null&&k.observe(o.parentElement,(g={},g.childList=!0,g)),R.Set(b(o)),Gn(S=>{if(S!=null&&S.$==1){const Y=S.$0;h===Y||(h.replaceWith(Y),h=Y)}else h.remove(),k.disconnect()},R.View)}}})};z(e,"[ws-attr-holes]",o=>{const f=new RegExp(Qt(),"g"),h=$t(o.getAttribute("ws-attr-holes"),[" "],1);o.removeAttribute("ws-attr-holes");for(let g=0,A=h.length-1;g<=A;g++)(()=>{let G;const R=F(h,g),k=o.getAttribute(R);let S=null,Y=0;const B=[];for(;S=f.exec(k),S!==null;){const p=wt(k,b(Y),b(f.lastIndex-F(S,0).length-1));Y=f.lastIndex,B.push([p,F(S,1)])}const T=wt(k,b(Y),null);f.lastIndex=0;const $=He((p,v)=>(y=>{const D=y[0],E=y[1];return H=>{let q;const X=H[0],P=H[1],Q=(q=null,[l.TryGetValue(E,{get:()=>q,set:ot=>{q=ot}}),q]),lt=Q[0]?Q[1].AsChoiceView:je("");return lt.$==1?[D,Et.Cons(X==""?lt.$0:K(ot=>ot+X,lt.$0),P)]:[D+lt.$0+X,P]}})(p)(v),B,[T,Et.Empty]);if($[1].$==1)if($[1].$1.$==1)if($[1].$1.$1.$==1)if($[1].$1.$1.$1.$==0){const p=$[0];G=qt(R,Bs((v,y,D)=>p+v+y+D,$[1].$0,$[1].$1.$0,$[1].$1.$1.$0))}else{const p=$[0];G=qt(R,K(v=>p+kt("",v),zs($[1])))}else{const p=$[0];G=qt(R,Js((v,y)=>p+v+y,$[1].$0,$[1].$1.$0))}else if($[0]=="")G=qt(R,$[1].$0);else{const p=$[0];G=qt(R,K(v=>p+v,$[1].$0))}else G=W.Create(R,$[0]);return w(o,G)})()});let I=d;const C=u.length==0?b(()=>{x()}):b(o=>{x(),st(f=>{f(o)},u)}),L=!M(d,null)&&d.length===1&&F(d,0)instanceof Node&&F(d,0)instanceof Element&&(n=F(d,0),!0)?b(n):null;let O={Els:I,Dirty:!0,Holes:r,Attrs:i,Render:C?C.$0:void 0,El:L?L.$0:void 0};return[ir(O,["Render","El"]),Te(ee(),we,s)]}function jr(){return Ft.GlobalHoles}function z(e,t,n){oi(e,t,r=>{r.closest("[ws-preserve]")==null&&n(r)})}function Zr(e,t,n){const r=mn(n);return s=>{Zt(e,t,r,s)}}function Xr(e,t){ci(e,n=>{n.closest("[ws-preserve]")==null&&t(n)})}function Qt(){return Ft.TextHoleRE}class rt extends J{constructor(n,r){super();c(this,"docNode");c(this,"updates");this.docNode=n,this.updates=r}static RunById(n,r){const s=globalThis.document.getElementById(n);M(s,null)?V("invalid id: "+n):rt.Run(s,r)}static Run(n,r){ge(n,r.docNode),rt.RunInPlace(!1,n,r)}static get Empty(){return rt.Mk(null,ee())}static RunInPlace(n,r,s){const i=Fs(r,s.docNode);Gn(In()||Ln()?wi(Is(n,i,s.docNode)):()=>{Ls(n,i,s.docNode)},s.updates)}static Mk(n,r){return new rt(n,r)}static TextNode(n){return rt.Mk($s(globalThis.document.createTextNode(n)),ee())}static TextView(n){const r=js();return rt.Mk(ps(r),K(s=>{Zs(r,s)},n))}}class ft extends J{constructor(n,r,s,i){var t=(...el)=>(super(...el),c(this,"equals"),c(this,"hash"),c(this,"count"),c(this,"data"),this);if(n=="New_5"&&(n="New_6",r=[],s=M,i=zt),n=="New_6"){const u=r,l=s,a=i;t(),this.equals=l,this.hash=a,this.count=0,this.data=[];const d=_(u);try{for(;d.MoveNext();){const w=d.Current;this.set(w.K,w.V)}}finally{typeof d=="object"&&ut(d)&&d.Dispose()}}}set_Item(n,r){this.set(n,r)}set(n,r){const s=this.hash(n),i=this.data[s];if(i==null)this.count=this.count+1,this.data[s]=new Array({K:n,V:r});else{const u=bn(l=>this.equals.apply(null,[Tt(l)[0],n]),i);u==null?(this.count=this.count+1,i.push({K:n,V:r})):i[u.$0]={K:n,V:r}}}TryGetValue(n,r){const s=this.data[this.hash(n)];if(s==null)return!1;{const i=vn(u=>{const l=Tt(u);return this.equals.apply(null,[l[0],n])?b(l[1]):null},s);return i!=null&&i.$==1&&(r.set(i.$0),!0)}}ContainsKey(n){const r=this.data[this.hash(n)];return r==null?!1:Nn(s=>this.equals.apply(null,[Tt(s)[0],n]),r)}RemoveKey(n){return this.remove(n)}get Keys(){return new $i(this)}GetEnumerator(){return Gs(rs(fs(this.data)))}get Values(){return new Xi(this)}remove(n){const r=this.hash(n),s=this.data[r];if(s==null)return!1;{const i=re(u=>!this.equals.apply(null,[Tt(u)[0],n]),s);return Z(i)<s.length&&(this.count=this.count-1,this.data[r]=i,!0)}}Item(n){return this.get(n)}get(n){const r=this.data[this.hash(n)];return r==null?Os():ss(s=>{const i=Tt(s);return this.equals.apply(null,[i[0],n])?b(i[1]):null},r)}static New_5(){return new this("New_5")}static New_6(n,r,s){return new this("New_6",n,r,s)}}let pt=ht(e=>{var t;return t=class extends J{static Create_1(r){return new ws(!1,{s:Ae(r,[])},r)}},pt=e(t),t});class at extends J{constructor(n,r,s,i){var t=(...nl)=>(super(...nl),c(this,"equals"),c(this,"hash"),c(this,"data"),c(this,"count"),this);n=="New_3"&&(n="New_4",r=[],s=M,i=zt);let u;if(n=="New_2"&&(u=r,n="New_4",r=u,s=M,i=zt),n=="New_4"){const l=r,a=s,d=i;t(),this.equals=a,this.hash=d,this.data=[],this.count=0;const w=_(l);try{for(;w.MoveNext();)this.add(w.Current)}finally{typeof w=="object"&&ut(w)&&w.Dispose()}}}SAdd(n){return this.add(n)}Contains(n){const r=this.data[this.hash(n)];return r==null?!1:this.arrContains(n,r)}add(n){const r=this.hash(n),s=this.data[r];return s==null?(this.data[r]=[n],this.count=this.count+1,!0):this.arrContains(n,s)?!1:(s.push(n),this.count=this.count+1,!0)}arrContains(n,r){let s=!0,i=0;const u=r.length;for(;s&&i<u;)this.equals.apply(null,[r[i],n])?s=!1:i=i+1;return!s}GetEnumerator(){return _(Oe(this.data))}ExceptWith(n){const r=_(n);try{for(;r.MoveNext();)this.Remove(r.Current)}finally{typeof r=="object"&&ut(r)&&r.Dispose()}}get Count(){return this.count}IntersectWith(n){const r=new at("New_4",n,this.equals,this.hash),s=Oe(this.data);for(let i=0,u=s.length-1;i<=u;i++){const l=s[i];r.Contains(l)||this.Remove(l)}}Remove(n){const r=this.data[this.hash(n)];return r==null?!1:this.arrRemove(n,r)&&(this.count=this.count-1,!0)}CopyTo(n,r){const s=Oe(this.data);for(let i=0,u=s.length-1;i<=u;i++)fn(n,i+r,s[i])}arrRemove(n,r){let s=!0,i=0;const u=r.length;for(;s&&i<u;)this.equals.apply(null,[r[i],n])?(r.splice(i,1),s=!1):i=i+1;return!s}static New_3(){return new this("New_3")}static New_4(n,r,s){return new this("New_4",n,r,s)}static New_2(n){return new this("New_2",n)}}function yn(e,t){return{GetEnumerator:()=>{const n=_(e),r=[!0];return new yt(n,null,s=>{if(s.s.MoveNext())return s.c=s.s.Current,!0;{const i=s.s;return M(i,null)||i.Dispose(),s.s=null,r[0]&&(r[0]=!1,s.s=_(t),s.s.MoveNext()?(s.c=s.s.Current,!0):(s.s.Dispose(),s.s=null,!1))}},s=>{const i=s.s;M(i,null)||i.Dispose()})}}}function _r(e){const t=_(e);try{return t.MoveNext()?t.Current:Ge()}finally{typeof t=="object"&&ut(t)&&t.Dispose()}}function Pr(e,t,n){let r=t;const s=_(n);try{for(;s.MoveNext();)r=e(r,s.Current);return r}finally{typeof s=="object"&&ut(s)&&s.Dispose()}}function Kr(e,t){const n=_(t);try{for(;n.MoveNext();)e(n.Current)}finally{typeof n=="object"&&ut(n)&&n.Dispose()}}function At(e,t){return{GetEnumerator:()=>{const n=_(t);return new yt(null,null,r=>n.MoveNext()&&(r.c=e(n.Current),!0),()=>{n.Dispose()})}}}function en(e){return{GetEnumerator:()=>_(e())}}function Br(e,t){return Jr(At(e,t))}function zr(e){const t=_(e);try{t.MoveNext()||Wr();let n=t.Current;for(;t.MoveNext();){const r=t.Current;ve(r,n)===1&&(n=r)}return n}finally{typeof t=="object"&&ut(t)&&t.Dispose()}}function Jr(e){return{GetEnumerator:()=>{const t=_(e);function n(r){for(;;){const s=r.s;if(M(s,null))if(t.MoveNext())r.s=_(t.Current),r=r;else return t.Dispose(),!1;else{if(s.MoveNext())return r.c=s.Current,!0;r.Dispose(),r.s=null,r=r}}}return new yt(null,null,n,r=>{const s=r.s;M(s,null)||s.Dispose(),M(t,null)||t.Dispose()})}}}function Qr(e,t){return Vr(e,ts(t))}function Wr(){return V("The input sequence was empty.")}function Vr(e,t){return e<0&&di(),{GetEnumerator:()=>{const n=[_(t)];return new yt(0,null,r=>{if(r.s=r.s+1,r.s>e)return!1;{const s=n[0];return M(s,null)?Ge():s.MoveNext()?(r.c=s.Current,r.s===e&&(s.Dispose(),n[0]=null),!0):(s.Dispose(),n[0]=null,Ge())}},()=>{const r=n[0];M(r,null)||r.Dispose()})}}}function ts(e){return{GetEnumerator:()=>new yt(0,null,t=>(t.c=e(t.s),t.s=t.s+1,!0),void 0)}}function es(e,t){return!ns(n=>!e(n),t)}function ns(e,t){const n=_(t);try{let r=!1;for(;!r&&n.MoveNext();)r=e(n.Current);return r}finally{typeof n=="object"&&ut(n)&&n.Dispose()}}function Ue(e,t){const n=[];for(let r=0,s=t.length-1;r<=s;r++){const i=e(t[r]);i==null||n.push(i.$0)}return n}function bn(e,t){let n=null,r=0;for(;r<t.length&&n==null;)e(t[r])&&(n=b(r)),r=r+1;return n}function vn(e,t){let n=null,r=0;for(;r<t.length&&n==null;){const s=e(t[r]);s!=null&&s.$==1&&(n=s),r=r+1}return n}function Nn(e,t){let n=!1,r=0;for(;!n&&r<Z(t);)e(t[r])?n=!0:r=r+1;return n}function rs(e){return Array.prototype.concat.apply([],Wt(e))}function st(e,t){for(let n=0,r=t.length-1;n<=r;n++)e(t[n])}function He(e,t,n){let r=n;const s=t.length;for(let i=1,u=s;i<=u;i++)r=e(t[s-i],r);return r}function mt(e,t){const n=new Array(t.length);for(let r=0,s=t.length-1;r<=s;r++)n[r]=e(t[r]);return n}function re(e,t){const n=[];for(let r=0,s=t.length-1;r<=s;r++)e(t[r])&&n.push(t[r]);return n}function Wt(e){if(e instanceof Array)return e.slice();if(e instanceof Et)return Cn(e);{const t=[],n=_(e);try{for(;n.MoveNext();)t.push(n.Current);return t}finally{typeof n=="object"&&ut(n)&&n.Dispose()}}}function ss(e,t){const n=vn(e,t);return n==null?V("KeyNotFoundException"):n.$0}function Cn(e){const t=[];let n=e;for(;n.$!=0;)t.push($u(n)),n=pu(n);return t}function An(e,t){let n=!0,r=0;for(;n&&r<Z(t);)e(t[r])?r=r+1:n=!1;return n}function is(e,t){const n=new Array(e);for(let r=0,s=e-1;r<=s;r++)n[r]=t;return n}function us(e,t){e<0&&V("Negative size given.");const n=new Array(e);for(let r=0,s=e-1;r<=s;r++)n[r]=t(r);return n}let nt=ht(e=>{var t;return t=class extends J{constructor(){super(...arguments);c(this,"id");c(this,"vars")}static GetOrAddHoleFor(s,i,u){let l;const a=nt.GetHolesFor(s),d=(l=null,[a.TryGetValue(i,{get:()=>l,set:w=>{l=w}}),l]);if(d[0])return d[1];{const w=u();return a.set_Item(i,w),w}}static GetHolesFor(s){let i;const u=(i=null,[nt.initialized.TryGetValue(s,{get:()=>i,set:l=>{i=l}}),i]);if(u[0])return u[1];{const l=new ft("New_5");return nt.initialized.set_Item(s,l),l}}},nt=e(t),c(t,"init"),c(t,"initialized"),c(t,"instances"),nt.initialized=new ft("New_5"),nt.instances=new ft("New_5"),t});class ls extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return b(this.fillWith.View)}AddAttribute(n,r){n(r)(ki(this.fillWith))}get AsChoiceView(){return xt(K(String,this.fillWith.View))}}class os extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return b(K(String,this.fillWith.View))}AddAttribute(n,r){n(r)(Mi(this.fillWith))}get AsChoiceView(){return xt(K(String,this.fillWith.View))}}class cs extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return b(K(String,this.fillWith.View))}AddAttribute(n,r){n(r)(Oi(this.fillWith))}get AsChoiceView(){return xt(K(String,this.fillWith.View))}}class as extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return b(K(n=>new Date(n).toLocaleString(),this.fillWith.View))}AddAttribute(n,r){n(r)(Gi(this.fillWith))}get AsChoiceView(){return xt(K(n=>new Date(n).toLocaleString(),this.fillWith.View))}}class hs extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return b(K(String,this.fillWith.View))}AddAttribute(n,r){n(r)(Fi(this.fillWith))}get AsChoiceView(){return xt(K(String,this.fillWith.View))}}class xn extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}get Value(){return this.fillWith}}function fs(e){let t=[];for(var n in e)t.push(e[n]);return t}class ds extends tt{constructor(n,r){super();c(this,"name");c(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return b(K(n=>kt(",",n),this.fillWith.View))}AddAttribute(n,r){n(r)(Ii(this.fillWith))}get AsChoiceView(){return xt(K(String,this.fillWith.View))}}function Tn(e){return{$:6,$0:e}}function $s(e){return{$:5,$0:e}}function ps(e){return{$:4,$0:e}}function gs(e,t){return Pu(e,-2147483648,2147483647,t)}class ws extends Ar{constructor(n,r,s){super();c(this,"isConst");c(this,"current");c(this,"snap");c(this,"view");c(this,"id");this.isConst=n,this.current=s,this.snap=r,this.view=()=>this.snap,this.id=Xt()}get View(){return this.view}Set(n){this.isConst?(r=>r("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(r=>{console.log(r)}):(ne(this.snap),this.current=n,this.snap={s:Ae(n,[])})}SetFinal(n){this.isConst?(r=>r("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(r=>{console.log(r)}):(ne(this.snap),this.isConst=!0,this.current=n,this.snap={s:bt(n)})}Get(){return this.current}UpdateMaybe(n){const r=n(this.Get());r!=null&&r.$==1&&this.Set(r.$0)}}function ms(e,t,n){const r=e.s;r==null?n():r!=null&&r.$==2?(r.$1.push(n),t(r.$0)):r!=null&&r.$==3?(r.$0.push(t),r.$1.push(n)):t(r.$0)}function Gt(e,t){const n=t.s;if(n!=null&&n.$==0)return{s:bt(e(n.$0))};{const r={s:It([],[])};return dt(t,s=>{Dn(r,t,e(s))},r),r}}function ys(e,t,n,r){const s=t.s,i=n.s,u=r.s;if(s!=null&&s.$==0)return i!=null&&i.$==0?u!=null&&u.$==0?{s:bt(e(s.$0,i.$0,u.$0))}:Cs(e,s.$0,i.$0,r):u!=null&&u.$==0?As(e,s.$0,u.$0,n):xs(e,s.$0,n,r);if(i!=null&&i.$==0)return u!=null&&u.$==0?Ts(e,i.$0,u.$0,t):Ss(e,i.$0,t,r);if(u!=null&&u.$==0)return Ds(e,u.$0,t,n);{const l={s:It([],[])},a=()=>{const d=l.s;if(!(d!=null&&d.$==0||d!=null&&d.$==2)){const w=Ct(t),N=Ct(n),m=Ct(r);w!=null&&w.$==1&&N!=null&&N.$==1&&m!=null&&m.$==1&&(w.$0[1]&&N.$0[1]&&m.$0[1]?se(l,e(w.$0[0],N.$0[0],m.$0[0])):ie(l,e(w.$0[0],N.$0[0],m.$0[0])))}};return dt(t,a,l),dt(n,a,l),dt(r,a,l),l}}function bs(e){const t=Wt(e);if(t.length==0)return{s:bt([])};{const n={s:It([],[])},r=[Z(t)-1],s=()=>{if(r[0]===0){const i=mt(u=>{const l=u.s;return l!=null&&l.$==0||l!=null&&l.$==2?l.$0:V("value not found by View.Sequence")},t);An(u=>{const l=u.s;return l!=null&&l.$==0},t)?se(n,i):ie(n,i)}else r[0]=r[0]-1};return st(i=>{dt(i,s,n)},t),n}}function Ce(e,t,n){const r=t.s,s=n.s;if(r!=null&&r.$==0)return s!=null&&s.$==0?{s:bt(e(r.$0,s.$0))}:Es(e,r.$0,n);if(s!=null&&s.$==0)return ks(e,s.$0,t);{const i={s:It([],[])},u=()=>{const l=i.s;if(!(l!=null&&l.$==0||l!=null&&l.$==2)){const a=Ct(t),d=Ct(n);a!=null&&a.$==1&&d!=null&&d.$==1&&(a.$0[1]&&d.$0[1]?se(i,e(a.$0[0],d.$0[0])):ie(i,e(a.$0[0],d.$0[0])))}};return dt(t,u,i),dt(n,u,i),i}}function vs(e,t){const n=e.s,r=t.s;if(n!=null&&n.$==0)return r!=null&&r.$==0?{s:bt(null)}:t;if(r!=null&&r.$==0)return e;{const s={s:It([],[])},i=()=>{const u=s.s;if(!(u!=null&&u.$==0||u!=null&&u.$==2)){const l=Ct(e),a=Ct(t);l!=null&&l.$==1&&a!=null&&a.$==1&&(l.$0[1]&&a.$0[1]?se(s,null):ie(s,null))}};return dt(e,i,s),dt(t,i,s),s}}function Ns(e){const t=e.s;if(t==null)return e;if(t!=null&&t.$==2){const n={s:Ae(t.$0,[])};return Ms(e,n),n}else if(t!=null&&t.$==3){const n={s:It([],[])};return dt(e,r=>{Dn(n,e,r)},n),n}else return e}function Sn(e,t){const n=e.s;n==null?t():(n!=null&&n.$==2||n!=null&&n.$==3)&&n.$1.push(t)}function dt(e,t,n){const r=e.s;r==null?ne(n):r!=null&&r.$==2?(pe(r.$1,n),t(r.$0)):r!=null&&r.$==3?(r.$0.push(t),pe(r.$1,n)):t(r.$0)}function Dn(e,t,n){const r=t.s;r!=null&&r.$==0?se(e,n):ie(e,n)}function Cs(e,t,n,r){return Gt(s=>e(t,n,s),r)}function As(e,t,n,r){return Gt(s=>e(t,s,n),r)}function xs(e,t,n,r){return Ce((s,i)=>e(t,s,i),n,r)}function Ts(e,t,n,r){return Gt(s=>e(s,t,n),r)}function Ss(e,t,n,r){return Ce((s,i)=>e(s,t,i),n,r)}function Ds(e,t,n,r){return Ce((s,i)=>e(s,i,t),n,r)}function Ct(e){const t=e.s;return t!=null&&t.$==0?b([t.$0,!0]):t!=null&&t.$==2?b([t.$0,!1]):null}function se(e,t){const n=e.s;if(n!=null&&n.$==3){e.s=bt(t);const r=n.$0;for(let s=0,i=Z(r)-1;s<=i;s++)F(r,s)(t)}}function ie(e,t){const n=e.s;if(n!=null&&n.$==3){e.s=Ae(t,n.$1);const r=n.$0;for(let s=0,i=Z(r)-1;s<=i;s++)F(r,s)(t)}}function Es(e,t,n){return Gt(r=>e(t,r),n)}function ks(e,t,n){return Gt(r=>e(r,t),n)}function Ms(e,t){const n=e.s;n==null?ne(t):(n!=null&&n.$==2||n!=null&&n.$==3)&&pe(n.$1,t)}function pe(e,t){if(e.push(t),e.length%20===0){const n=e.slice(0);Qu(e);for(let r=0,s=Z(n)-1;r<=s;r++){const i=F(n,r);typeof i=="object"?(u=>{u.s&&e.push(u)})(i):(u=>{e.push(u)})(i)}}}function Os(){throw new ou("New")}function _(e){return e instanceof Array?En(e):M(typeof e,"string")?kn(e):e.GetEnumerator()}function En(e){return new yt(0,null,t=>{const n=t.s;return n<Z(e)&&(t.c=F(e,n),t.s=n+1,!0)},void 0)}function kn(e){return new yt(0,null,t=>{const n=t.s;return n<e.length&&(t.c=e[n],t.s=n+1,!0)},void 0)}function Gs(e){return e instanceof Array?En(e):M(typeof e,"string")?kn(e):"GetEnumerator0"in e?e.GetEnumerator0():e.GetEnumerator()}class yt extends J{constructor(n,r,s,i){super();c(this,"s");c(this,"c");c(this,"n");c(this,"d");c(this,"e");this.s=n,this.c=r,this.n=s,this.d=i,this.e=0}MoveNext(){const n=this.n(this);return this.e=n?1:2,n}get Current(){return this.e===1?this.c:this.e===0?V("Enumeration has not started. Call MoveNext."):V("Enumeration already finished.")}Dispose(){this.d&&this.d(this)}}let Ft=ht(e=>{var t;return t=class{},Ft=e(t),c(t,"RenderedFullDocTemplate"),c(t,"TextHoleRE"),c(t,"GlobalHoles"),c(t,"LocalTemplatesLoaded"),c(t,"LoadedTemplates"),t.LoadedTemplates=new ft("New_5"),t.LocalTemplatesLoaded=!1,t.GlobalHoles=new ft("New_5"),t.TextHoleRE="\\${([^}]+)}",t.RenderedFullDocTemplate=null,t});function ge(e,t){Vt(e,t,null)}function Vt(e,t,n){for(;;){if(t!=null&&t.$==1)return ce(e,t.$0.El,n);if(t!=null&&t.$==2){const r=t.$0;r.Dirty=!1,t=r.Current}else{if(t==null)return n;if(t!=null&&t.$==4)return ce(e,t.$0.Text,n);if(t!=null&&t.$==5)return ce(e,t.$0,n);if(t!=null&&t.$==6)return He((r,s)=>(i=>u=>l=>u==null||u.constructor===Object?Vt(i,u,l):ce(i,u,l))(e)(r)(s),t.$0.Els,n);{const r=t.$1;t=t.$0,n=Vt(e,r,n)}}}}function Fs(e,t){return _i(Pi(),Hs(e,qn(),t))}function Is(e,t,n){return In()?_e(()=>{const r=Zn(n),s=qs(t,r),i=Rs(t,r);return _t(on(pi(s,Ys(t,r))),()=>_t(nn(e,t),()=>_t(on(i),()=>(t.PreviousNodes=r,De(null)))))}):nn(e,t)}function Ls(e,t,n){const r=Zn(n);te(e,t.Top),t.PreviousNodes=r}function Us(e,t){const n=e.parentNode,r=globalThis.document.createTextNode("");return n.insertBefore(r,e),Xs(e,t),r}function ce(e,t,n){return ai(e,n,t),t}function Hs(e,t,n){ge(e,n);const r=Hn(e,t);return St.New(r,n,null,e,Xt(),Kt(r.OnAfterRender))}function nn(e,t){if(Ln()){const n=r=>{requestAnimationFrame(()=>{te(e,t.Top),r()})};return _n((r,s,i)=>n.apply(null,[r,s,i]))}else return te(e,t.Top),De(null)}function Ys(e,t){return xe(mt(n=>yi(n.Attr),Xe(Xn(t,Ze(n=>mi(n.Attr),e.PreviousNodes)))))}function Rs(e,t){return xe(mt(n=>vi(n.Attr),Xe(Xn(e.PreviousNodes,Ze(n=>bi(n.Attr),t)))))}function qs(e,t){const n=s=>Ni(s.Attr),r=s=>Ze(n,s);return xe(mt(s=>Ci(s.Attr),Xe(Ki(r(e.PreviousNodes),r(t)))))}function te(e,t){e||_s(t),Mn(t.Children),On(t)}function js(){return{Text:globalThis.document.createTextNode(""),Dirty:!1,Value:""}}function Zs(e,t){e.Value=t,e.Dirty=!0}function Xs(e,t){Vt(e.parentNode,t,e)}function _s(e){function t(n){function r(s){for(;;)if(s!=null&&s.$==0){const i=s.$1,u=s.$0;if(r(u))return!0;s=i}else if(s!=null&&s.$==2){const i=s.$0;if(i.Dirty)return!0;s=i.Current}else if(s!=null&&s.$==6){const i=s.$0;return i.Dirty||Nn(t,i.Holes)}else return!1}return r(n.Children)}jn(e.El,e.Attr),t(e)&&Ps(e)}function Mn(e){for(;;){if(e!=null&&e.$==1)return te(!1,e.$0);if(e!=null&&e.$==2)e=e.$0.Current;else{if(e==null)return null;if(e!=null&&e.$==5)return null;if(e!=null&&e.$==4){const t=e.$0;return t.Dirty?(t.Text.nodeValue=t.Value,t.Dirty=!1):null}else if(e!=null&&e.$==6){const t=e.$0;return st(n=>{te(!1,n)},t.Holes),st(n=>{jn(n[0],n[1])},t.Attrs),On(t)}else{const t=e.$1,n=e.$0;Mn(n),e=t}}}}function On(e){const t=Kt(e.Render);t!=null&&t.$==1&&(t.$0(e.El),Bt(e,"Render",null))}function Ps(e){const t=e.El;function n(u,l){for(;;){if(u!=null&&u.$==1)return u.$0.El;if(u!=null&&u.$==2){const a=u.$0;if(a.Dirty)return a.Dirty=!1,Vt(t,a.Current,l);u=a.Current}else{if(u==null)return l;if(u!=null&&u.$==4)return u.$0.Text;if(u!=null&&u.$==5)return u.$0;if(u!=null&&u.$==6){const a=u.$0;return a.Dirty&&(a.Dirty=!1),He((d,w)=>d==null||d.constructor===Object?n(d,w):d,a.Els,l)}else{const a=u.$1;u=u.$0,l=n(a,l)}}}}const r=e.El;ju(u=>{hi(r,u)},qu(Zu(e),Ru(e.El,Kt(e.Delimiters))));let s=e.Children;const i=Kt(e.Delimiters);n(s,i!=null&&i.$==1?i.$0[1]:null)}class St{constructor(){c(this,"Attr");c(this,"Children");c(this,"Delimiters");c(this,"El");c(this,"ElKey");c(this,"Render")}Equals(t){return this.ElKey===t.ElKey}GetHashCode(){return this.ElKey}static New(t,n,r,s,i,u){const l={Attr:t,Children:n,El:s,ElKey:i};let a=(Bt(l,"Delimiters",r),Bt(l,"Render",u),l);return ct(St,a)}}function Xt(){return Ks(rn()+1),rn()}function Ks(e){Pe.counter=e}function rn(){return Pe.counter}function Ae(e,t){return{$:2,$0:e,$1:t}}function bt(e){return{$:0,$0:e}}function It(e,t){return{$:3,$0:e,$1:t}}class Ye extends rt{constructor(n,r,s,i){super(n,r);c(this,"docNode_1");c(this,"updates_1");c(this,"elt");c(this,"rvUpdates");this.docNode_1=n,this.updates_1=r,this.elt=s,this.rvUpdates=i}static TreeNode(n,r){const s=ye.Create(r),i=mt(a=>Yn(a[1]),n.Attrs);let u=Te(ee(),we,i),l=we(u,s.v);return new Ye(Tn(n),l,F(n.Els,0),s)}}function ee(e){const t={s:bt(e)};return()=>t}function Gn(e,t){function n(){ms(t(),e,()=>{Mt().Fork(n)})}Mt().Fork(n)}function K(e,t){return ue(()=>Gt(e,t()))}function Bs(e,t,n,r){return ue(()=>ys(e,t(),n(),r()))}function zs(e){return ue(()=>bs(At(t=>t(),e)))}function Js(e,t,n){return ue(()=>Ce(e,t(),n()))}function we(e,t){return ue(()=>vs(e(),t()))}function ue(e){const t={c:null,o:e};return()=>{let n=t.c;if(n===null){n=t.o(),t.c=n;const r=n.s;return r!=null&&r.$==0?t.o=null:Sn(n,()=>{t.c=null}),n}else return n}}function Qs(e){let t=null,n=0;const r=e.textContent,s=new RegExp(Qt(),"g");for(;t=s.exec(r),t!==null;){e.parentNode.insertBefore(globalThis.document.createTextNode(wt(r,b(n),b(s.lastIndex-F(t,0).length-1))),e),n=s.lastIndex;const i=globalThis.document.createElement("span");i.setAttribute("ws-replace",F(t,1).toLowerCase()),e.parentNode.insertBefore(i,e)}s.lastIndex=0,e.textContent=wt(r,b(n),null)}function sn(e){console.warn("Instantiating non-loaded template",e)}function Ws(e,t,n){const r=e.querySelector("[ws-replace]");return M(r,null)?(console.warn("Filling non-existent text hole",n),null):(r.parentNode.replaceChild(globalThis.document.createTextNode(t),r),b(r.getAttribute("ws-replace")))}function Vs(e,t){const n=r=>{z(e,"["+r+"]",s=>{t.Contains(s.getAttribute(r))||s.removeAttribute(r)})};n("ws-attr"),n("ws-onafterrender"),n("ws-var"),z(e,"[ws-hole]",r=>{if(!t.Contains(r.getAttribute("ws-hole")))for(r.removeAttribute("ws-hole");r.hasChildNodes();)r.removeChild(r.lastChild)}),z(e,"[ws-replace]",r=>{t.Contains(r.getAttribute("ws-replace"))||r.parentNode.removeChild(r)}),z(e,"[ws-on]",r=>{r.setAttribute("ws-on",kt(" ",re(s=>t.Contains(F($t(s,[":"],1),1)),$t(r.getAttribute("ws-on"),[" "],1))))}),z(e,"[ws-attr-holes]",r=>{const s=$t(r.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,u=s.length-1;i<=u;i++){const l=F(s,i);let a=new RegExp(Qt(),"g"),d=r.getAttribute(l).replace(a,(w,N)=>t.Contains(N)?w:"");r.setAttribute(l,d)}})}function ti(e,t){Fn(t);const n=t.nodeName.toLowerCase(),r=e.querySelector("[ws-attr="+n+"]");if(M(r,null))console.warn("Filling non-existent attr hole",n);else{r.removeAttribute("ws-attr");for(let s=0,i=t.attributes.length-1;s<=i;s++){const u=t.attributes.item(s);u.name=="class"&&r.hasAttribute("class")?r.setAttribute("class",r.getAttribute("class")+" "+u.nodeValue):r.setAttribute(u.name,u.nodeValue)}}}function ei(e,t){const n=r=>{z(e,"["+r+"]",s=>{let i;const u=(i=null,[t.TryGetValue(s.getAttribute(r).toLowerCase(),{get:()=>i,set:l=>{i=l}}),i]);u[0]&&s.setAttribute(r,u[1])})};n("ws-hole"),n("ws-replace"),n("ws-attr"),n("ws-onafterrender"),n("ws-var"),z(e,"[ws-on]",r=>{r.setAttribute("ws-on",kt(" ",mt(s=>{let i;const u=$t(s,[":"],1),l=(i=null,[t.TryGetValue(F(u,1),{get:()=>i,set:a=>{i=a}}),i]);return l[0]?F(u,0)+":"+l[1]:s},$t(r.getAttribute("ws-on"),[" "],1))))}),z(e,"[ws-attr-holes]",r=>{const s=$t(r.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,u=s.length-1;i<=u;i++)(()=>{const l=F(s,i);return r.setAttribute(l,Pr((a,d)=>{const w=Tt(d);return a.replace(new RegExp("\\${"+w[0]+"}","ig"),"${"+w[1]+"}")},r.getAttribute(l),t))})()})}function un(e,t,n){for(;;)if(e.hasChildNodes())n=t.insertBefore(e.lastChild,n);else return null}function Fn(e){const t=e.attributes,n=[],r=[],s=[];for(let u=0,l=t.length-1;u<=l;u++){const a=t.item(u);if(Ie(a.nodeName,"ws-on")&&a.nodeName!="ws-onafterrender"&&a.nodeName!="ws-on")n.push(a.nodeName),r.push(wt(a.nodeName,b(5),null)+":"+a.nodeValue.toLowerCase());else if(!Ie(a.nodeName,"ws-")&&new RegExp(Qt()).test(a.nodeValue)){let d=new RegExp(Qt(),"g"),w=a.nodeValue.replace(d,(N,m)=>"${"+m.toLowerCase()+"}");a.nodeValue=w,s.push(a.nodeName)}}r.length!=0&&e.setAttribute("ws-on",kt(" ",r)),s.length!=0&&e.setAttribute("ws-attr-holes",kt(" ",s));const i=u=>{const l=e.getAttribute(u);l==null||e.setAttribute(u,l.toLowerCase())};i("ws-hole"),i("ws-replace"),i("ws-attr"),i("ws-onafterrender"),i("ws-var"),st(u=>{e.removeAttribute(u)},n)}function wt(e,t,n){if(t==null)if(n!=null&&n.$==1){const r=n.$0;return r<0?"":e.slice(0,r+1)}else return"";else{if(n==null)return e.slice(t.$0);{const r=n.$0;return r<0?"":e.slice(t.$0,r+1)}}}function ni(e){const t=globalThis.document.createElement("div");if(ri().test(e)){let l=function(a,d){for(;;){if(d===0)return a;{const w=d;a=a.lastChild,d=w-1}}};var n=l;const r=li().exec(e),s=M(r,null)?"":F(r,1).toLowerCase(),i=si()[s],u=i||ii();return t.innerHTML=u[1]+e.replace(ui(),"<$1></$2>")+u[2],l(t,u[0])}else return t.appendChild(globalThis.document.createTextNode(e)),t}function ln(e){const t=[];for(let n=0,r=e.childNodes.length-1;n<=r;n++)t.push(e.childNodes[n]);return t}function ri(){return Ut.rhtml}function si(){return Ut.wrapMap}function ii(){return Ut.defaultWrap}function ui(){return Ut.rxhtmlTag}function li(){return Ut.rtagName}function oi(e,t,n){const r=e.querySelectorAll(t);for(let s=0,i=r.length-1;s<=i;s++)n(r[s])}function ci(e,t){const n=globalThis.document.querySelectorAll(e);for(let r=0,s=n.length-1;r<=s;r++)t(n[r])}function ai(e,t,n){let r;if(n.parentNode===e){const s=n.nextSibling;let i=M(s,null)?null:s;r=t===i}else r=!1;r||e.insertBefore(n,t)}function hi(e,t){t.parentNode===e&&e.removeChild(t)}function Ge(){return V("The input sequence has an insufficient number of elements.")}function fi(e,t){let n=!0,r=0;for(;n&&r<Z(t);)M(t[r],e)?n=!1:r=r+1;return!n}function di(){return V("The input must be non-negative.")}class $i extends J{constructor(n){super();c(this,"d");this.d=n}GetEnumerator(){return _(At(n=>n.K,this.d))}}function In(){return Vi()}function on(e){return _e(()=>_t(gi(()=>{},tu(e)),()=>(eu(e),De(null))))}function pi(e,t){return Re(zn(e.$0,t.$0))}function gi(e,t){const n=t.Duration;if(n===0)return Le();{const r=s=>{function i(u){return l=>{const a=l-u;return t.Compute(a),a<=n?void requestAnimationFrame(d=>{i(u)(d)}):s()}}requestAnimationFrame(u=>{i(u)(u)})};return _n((s,i,u)=>r.apply(null,[s,i,u]))}}function Re(e){return{$:0,$0:e}}function xe(e){return Re(uu(At(ru,e)))}function ke(){return Re(Qn())}function Ln(){return Kn.BatchUpdatesEnabled}function wi(e){const t=[0];function n(){return _e(()=>_t(e,()=>{const r=t[0];return M(r,1)?(t[0]=0,Le()):M(r,2)?(t[0]=1,n()):Le()}))}return()=>{const r=t[0];M(r,0)?(t[0]=1,Bi(n())):M(r,1)&&(t[0]=2)}}function Un(e,t,n,r){const s={DynElem:e,DynFlags:t,DynNodes:n};return Bt(s,"OnAfterRender",r),s}function ne(e){let t;const n=e.s;if(!(n==null||(!(n!=null&&n.$==2||n!=null&&n.$==3)||(t=n.$1,!1)))){e.s=null;for(let r=0,s=Z(t)-1;r<=s;r++){const i=F(t,r);typeof i=="object"?(u=>{ne(u)})(i):i()}}}function Hn(e,t){const n=[],r=[];function s(l){for(;;)if(l!==null){if(l!=null&&l.$==1)return n.push(l.$0);if(l!=null&&l.$==2){const a=l.$1,d=l.$0;s(d),l=a}else return l!=null&&l.$==3?l.$0(e):l!=null&&l.$==4?r.push(l.$0):null}else return null}s(t);const i=n.slice(0);return Un(e,Fe(t),i,r.length===0?null:b(l=>{Kr(a=>{a(l)},r)}))}function Yn(e){return Zi(t=>t.NChanged,ee(),we,e.DynNodes)}function Me(e){return Un(e,0,[],null)}function Fe(e){return e!==null&&e.hasOwnProperty("flags")?e.flags:0}function me(e){return W.A3(e)}function Rn(e,t){return W.A1(new lu(e,t))}function qn(){return j.EmptyAttr}function mi(e){return(e.DynFlags&2)===2}function yi(e){return qe(e,(t,n)=>t.NGetExitAnim(n))}function bi(e){return(e.DynFlags&1)===1}function vi(e){return qe(e,(t,n)=>t.NGetEnterAnim(n))}function Ni(e){return(e.DynFlags&4)===4}function Ci(e){return qe(e,(t,n)=>t.NGetChangeAnim(n))}function Ai(e,t){if(e===null)return t;if(t===null)return e;{const n=W.A2(e,t);return xi(n,Fe(e)|Fe(t)),n}}function qe(e,t){return xe(mt(n=>t(n,e.DynElem),e.DynNodes))}function jn(e,t){st(n=>{n.NSync(e)},t.DynNodes)}function xi(e,t){e.flags=t}class Ti extends tt{constructor(){super(...arguments);c(this,"name");c(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}class Si extends tt{constructor(){super(...arguments);c(this,"name");c(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}class Di extends tt{constructor(){super(...arguments);c(this,"name");c(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}function Ei(e,t){return me(n=>{n.addEventListener(e,r=>t(n)(r),!1)})}function cn(e){return W.A4(e)}function qt(e,t){return Rn(t,n=>r=>n.setAttribute(e,r))}function ki(e){return Lt(Gu(),e)}function Mi(e){return Lt(Fu(),e)}function Oi(e){return Lt(Iu(),e)}function Gi(e){return Lt(Lu(),e)}function Fi(e){return Lt(Uu(),e)}function Ii(e){return Lt(Hu(),e)}function Lt(e,t){const n=e(t);return W.Append(me(n[0]),Li(n[1],n[2]))}function Li(e,t){return Rn(t,e)}class W{static Handler(t,n){return W.HandlerImpl(t,n)}static Concat(t){const n=Se(t);return Te(qn(),W.Append,n)}static Create(t,n){return me(r=>{r.setAttribute(t,n)})}static HandlerImpl(t,n){return me(r=>{r.addEventListener(t,s=>n(r)(s),!1)})}static Append(t,n){return Ai(t,n)}static A4(t){return ct(W,{$:4,$0:t})}static A3(t){return ct(W,{$:3,$0:t})}static A1(t){return ct(W,{$:1,$0:t})}static A2(t,n){return ct(W,{$:2,$0:t,$1:n})}}class Ui extends tt{constructor(){super(...arguments);c(this,"name");c(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}class Hi extends tt{constructor(){super(...arguments);c(this,"name");c(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}function je(e){return{$:0,$0:e}}function xt(e){return{$:1,$0:e}}const Pt=class Pt{static Cons(t,n){return ct(Pt,{$:1,$0:t,$1:n})}GetEnumerator(){return new yt(this,null,t=>{const n=t.s;return n.$==0?!1:(t.c=n.$0,t.s=n.$1,!0)},void 0)}};c(Pt,"Empty",ct(Pt,{$:0}));let Et=Pt;function kt(e,t){return Wt(t).join(e)}function $t(e,t,n){return Yi(e,new RegExp("["+Ri(t.join(""))+"]"),n)}function Ie(e,t){return e.substring(0,t.length)==t}function Yi(e,t,n){return n===1?re(r=>r!=="",an(e,t)):an(e,t)}function Ri(e){return e.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&")}function an(e,t){return e.split(t)}function qi(e,t){return es(e,ji(t))}function ji(e){return e??""}function Te(e,t,n){const r=Z(n);function s(i){return u=>{switch(u<=0?0:u===1&&i>=0&&i<r?1:2){case 0:return e;case 1:return F(n,i);case 2:const l=u/2>>0;return t(s(i)(l),s(i+l)(u-l))}}}return s(0)(r)}function Zi(e,t,n,r){const s=Z(r);function i(u){return l=>{switch(l<=0?0:l===1&&u>=0&&u<s?1:2){case 0:return t;case 1:return e(F(r,u));case 2:const a=l/2>>0;return n(i(u)(a),i(u+a)(l-a))}}}return i(0)(s)}function Se(e){if(e instanceof Array)return e;if(e instanceof Et)return Cn(e);if(e===null)return[];{const t=[],n=_(e);try{for(;n.MoveNext();)t.push(n.Current);return t}finally{typeof n=="object"&&ut(n)&&n.Dispose()}}}class ye{constructor(){c(this,"c");c(this,"s");c(this,"v")}static Create(t){let n;return n=null,n=ye.New(t,null,()=>{let r;return r=n.s,r===null&&(r=Ns(n.c()),n.s=r,Sn(r,()=>{n.s=null})),r}),n}static New(t,n,r){return ct(ye,{c:t,s:n,v:r})}}class Xi extends J{constructor(n){super();c(this,"d");this.d=n}GetEnumerator(){return _(At(n=>n.V,this.d))}}function _i(e,t){return{PreviousNodes:e,Top:t}}function Pi(){return le(new at("New_3"))}function Zn(e){const t=[];function n(i,u){for(;;)switch(i){case 0:if(u!=null&&u.$==0){const l=u.$1,a=u.$0;n(0,a),u=l}else if(u!=null&&u.$==1)u=u.$0,i=1;else if(u!=null&&u.$==2)u=u.$0.Current;else if(u!=null&&u.$==6){const l=u.$0.Holes;return(a=>d=>{st(a,d)})(s)(l)}else return null;break;case 1:t.push(u),u=u.Children,i=0;break}}function r(i){return n(0,i)}function s(i){return n(1,i)}return r(e),le(new at("New_2",t))}function le(e){return{$:0,$0:e}}function Ze(e,t){return le(hu(e,t.$0))}function Xn(e,t){return le(fu(e.$0,t.$0))}function Xe(e){return Ot(e.$0)}function Ki(e,t){return le(du(e.$0,t.$0))}function _e(e){return t=>{try{e()(t)}catch(n){t.k(Be(n))}}}function _t(e,t){return zi(n=>{e(Wn(r=>{if(r.$==0){const s=r.$0;Mt().Fork(()=>{try{t(s)(n)}catch(i){n.k(Be(i))}})}else Mt().Fork(()=>{n.k(r)})},n.ct))})}function Le(){return Ee.Zero}function Bi(e,t){const r=Ji()[0];Mt().Fork(()=>{r.c||e(Wn(s=>{s.$==1&&Qi(s.$0)},r))})}function De(e){return t=>{t.k(ze(e))}}function Mt(){return Ee.scheduler}function zi(e){return t=>{t.ct.c?Wi(t):e(t)}}function Ji(){return Ee.defCTS}function Qi(e){console.log("WebSharper: Uncaught asynchronous exception",e)}function _n(e){return t=>{const n=[!1],r=s=>{n[0]?V("A continuation provided by Async.FromContinuations was invoked multiple times"):(n[0]=!0,Mt().Fork(s))};e(s=>{r(()=>{t.k(ze(s))})},s=>{r(()=>{t.k(Be(s))})},s=>{r(()=>{t.k(Vn(s))})})}}function Wi(e){e.k(Vn(new Ku("New",e.ct)))}function Vi(){return Bn.UseAnimations}function tu(e){return nu(Ue(t=>t.$==1?b(t.$0):null,Jn(e.$0)))}function eu(e){st(t=>{t.$==0&&t.$0()},Jn(e.$0))}function nu(e){const t=Se(e),n=Z(t);if(n===0)return su();if(n===1)return F(t,0);{const r=zr(At(i=>i.Duration,t)),s=mt(i=>iu(r,i),t);return Pn(r,i=>{st(u=>{u.Compute(i)},s)})}}function ru(e){return e.$0}function su(e){return Pn(0,()=>e)}function Pn(e,t){return{Compute:t,Duration:e}}function iu(e,t){const n=t.Compute,r=t.Duration,s=Bu(()=>t.Compute(t.Duration));return{Compute:i=>i>=r?s.f():n(i),Duration:e}}let Kn=ht(e=>{var t;return t=class{},Kn=e(t),c(t,"BatchUpdatesEnabled"),t.BatchUpdatesEnabled=!0,t});function Oe(e){let t=[];for(var n in e)t.push.apply(t,e[n]);return t}let Pe=ht(e=>{var t;return t=class{},Pe=e(t),c(t,"counter"),t.counter=0,t}),Ut=ht(e=>{var t;return t=class{},Ut=e(t),c(t,"defaultWrap"),c(t,"wrapMap"),c(t,"rhtml"),c(t,"rtagName"),c(t,"rxhtmlTag"),(()=>{t.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi"),t.rtagName=new RegExp("<([\\w:]+)"),t.rhtml=new RegExp("<|&#?\\w+;");const r=[1,"<table>","</table>"];let s=Object.fromEntries([["option",[1,"<select multiple='multiple'>","</select>"]],["legend",[1,"<fieldset>","</fieldset>"]],["area",[1,"<map>","</map>"]],["param",[1,"<object>","</object>"]],["thead",r],["tbody",r],["tfoot",r],["tr",[2,"<table><tbody>","</tbody></table>"]],["col",[2,"<table><colgroup>","</colgoup></table>"]],["td",[3,"<table><tbody><tr>","</tr></tbody></table>"]]]);t.wrapMap=s,t.defaultWrap=[0,"",""]})(),t}),Bn=ht(e=>{var t;return t=class{},Bn=e(t),c(t,"UseAnimations"),c(t,"CubicInOut"),t.CubicInOut=Ke.Custom(r=>{const s=r*r;return 3*s-2*(s*r)}),t.UseAnimations=!0,t});function zn(e,t){return e.$==0?t:t.$==0?e:{$:2,$0:e,$1:t}}function Jn(e){const t=[];function n(r){for(;;){if(r.$==1)return t.push(r.$0);if(r.$==2){const s=r.$1,i=r.$0;n(i),r=s}else return r.$==3?st(s=>{t.push(s)},r.$0):null}}return n(e),t.slice(0)}function uu(e){const t=Se(e);return Te(Qn(),zn,t)}function Qn(){return er.Empty}class lu extends J{constructor(n,r){super();c(this,"push");c(this,"value");c(this,"dirty");c(this,"updates");this.push=r,this.value=void 0,this.dirty=!1,this.updates=K(s=>{this.value=s,this.dirty=!0},n)}get NChanged(){return this.updates}NGetExitAnim(n){return ke()}NGetEnterAnim(n){return ke()}NGetChangeAnim(n){return ke()}NSync(n){this.dirty&&(this.push(n)(this.value),this.dirty=!1)}}class ou extends Error{static New(){return new this("New")}static New_1(t){return new this("New_1",t)}constructor(t,n){if(t=="New"&&(t="New_1",n="The given key was not present in the dictionary."),t=="New_1"){const r=n;super(r)}}}let j=ht(e=>{var t;return t=class{},j=e(t),c(t,"FloatApplyChecked"),c(t,"FloatGetChecked"),c(t,"FloatSetChecked"),c(t,"FloatApplyUnchecked"),c(t,"FloatGetUnchecked"),c(t,"FloatSetUnchecked"),c(t,"IntApplyChecked"),c(t,"IntGetChecked"),c(t,"IntSetChecked"),c(t,"IntApplyUnchecked"),c(t,"IntGetUnchecked"),c(t,"IntSetUnchecked"),c(t,"FileApplyUnchecked"),c(t,"FileGetUnchecked"),c(t,"FileSetUnchecked"),c(t,"DateTimeApplyUnchecked"),c(t,"DateTimeGetUnchecked"),c(t,"DateTimeSetUnchecked"),c(t,"StringListApply"),c(t,"StringListGet"),c(t,"StringListSet"),c(t,"StringApply"),c(t,"StringGet"),c(t,"StringSet"),c(t,"BoolCheckedApply"),c(t,"EmptyAttr"),(()=>{t.EmptyAttr=null,t.BoolCheckedApply=o=>[f=>{f.addEventListener("change",()=>o.Get()!=f.checked?o.Set(f.checked):null)},f=>h=>h!=null&&h.$==1?void(f.checked=h.$0):null,K(b,o.View)],t.StringSet=o=>f=>{o.value=f},t.StringGet=o=>b(o.value);const r=wu(),s=gu();t.StringApply=o=>Nt(r,s,o),t.StringListSet=o=>f=>{const h=o.options;for(let g=0,A=h.length-1;g<=A;g++)(()=>{const G=h.item(g);G.selected=fi(G.value,f)})()},t.StringListGet=o=>{const f=o.selectedOptions;return b(Wt(en(()=>Br(h=>[f.item(h).value],We(0,f.length-1)))))};const i=yu(),u=mu();t.StringListApply=o=>Nt(i,u,o),t.DateTimeSetUnchecked=o=>f=>{o.value=new Date(f).toLocaleString()},t.DateTimeGetUnchecked=o=>{let f,h;const g=o.value;if(jt(g))return b(-864e13);{f=0;const A=_u(g);return h=[A!=null&&A.$==1&&(f=A.$0,!0),f],h[0]?b(h[1]):null}};const l=vu(),a=bu();t.DateTimeApplyUnchecked=o=>Nt(l,a,o),t.FileSetUnchecked=()=>()=>null,t.FileGetUnchecked=o=>{const f=o.files;return b(Wt(en(()=>At(h=>f.item(h),We(0,f.length-1)))))};const d=Au(),w=Cu();t.FileApplyUnchecked=o=>Nu(d,w,o),t.IntSetUnchecked=o=>f=>{o.value=String(f)},t.IntGetUnchecked=o=>{const f=o.value;if(jt(f))return b(0);{const h=+f;return h!==h>>0?null:b(h)}};const N=Tu(),m=xu();t.IntApplyUnchecked=o=>Nt(N,m,o),t.IntSetChecked=o=>f=>{const h=f.Input;return o.value!=h?void(o.value=h):null},t.IntGetChecked=o=>{let f,h;const g=o.value;if(jt(g))f=!o.checkValidity||o.checkValidity()?it.Blank(g):it.Invalid(g);else{const A=(h=0,[gs(g,{get:()=>h,set:G=>{h=G}}),h]);f=A[0]?it.Valid(A[1],g):it.Invalid(g)}return b(f)};const x=Du(),I=Su();t.IntApplyChecked=o=>Nt(x,I,o),t.FloatSetUnchecked=o=>f=>{o.value=String(f)},t.FloatGetUnchecked=o=>{const f=o.value;if(jt(f))return b(0);{const h=+f;return isNaN(h)?null:b(h)}};const C=ku(),L=Eu();t.FloatApplyUnchecked=o=>Nt(C,L,o),t.FloatSetChecked=o=>f=>{const h=f.Input;return o.value!=h?void(o.value=h):null},t.FloatGetChecked=o=>{let f;const h=o.value;if(jt(h))f=!o.checkValidity||o.checkValidity()?it.Blank(h):it.Invalid(h);else{const g=+h;f=isNaN(g)?it.Invalid(h):it.Valid(g,h)}return b(f)};const O=Ou(),U=Mu();t.FloatApplyChecked=o=>Nt(O,U,o)})(),t});class cu extends J{constructor(){super();c(this,"idle");c(this,"robin");this.idle=!0,this.robin=[]}Fork(n){this.robin.push(n),this.idle&&(this.idle=!1,setTimeout(()=>{this.tick()},0))}tick(){const n=Date.now();let r=!0;for(;r;)this.robin.length===0?(this.idle=!0,r=!1):(this.robin.shift()(),Date.now()-n>40&&(setTimeout(()=>{this.tick()},0),r=!1))}}class Ke extends J{constructor(n){super();c(this,"transformTime");this.transformTime=n}static Custom(n){return new Ke(n)}}function Wn(e,t){return{k:e,ct:t}}function Be(e){return{$:1,$0:e}}function ze(e){return{$:0,$0:e}}function Vn(e){return{$:2,$0:e}}let Ee=ht(e=>{var t;return t=class{},Ee=e(t),c(t,"GetCT"),c(t,"Zero"),c(t,"defCTS"),c(t,"scheduler"),c(t,"noneCT"),t.noneCT=au(!1,[]),t.scheduler=new cu,t.defCTS=[new Yu],t.Zero=De(),t.GetCT=r=>{r.k(ze(r.ct))},t});function au(e,t){return{c:e,r:t}}function hu(e,t){return new at("New_2",re(e,Ot(t)))}function fu(e,t){const n=new at("New_2",Ot(t));return n.ExceptWith(Ot(e)),n}function Ot(e){const t=is(e.Count,void 0);return e.CopyTo(t,0),t}function du(e,t){const n=new at("New_2",Ot(e));return n.IntersectWith(Ot(t)),n}function $u(e){return e.$==1?e.$0:tr()}function pu(e){return e.$==1?e.$1:tr()}function tr(){return V("The input list was empty.")}function Nt(e,t,n){let r;return r=null,[s=>{const i=()=>{n.UpdateMaybe(u=>{let l;return r=e(s),r!=null&&r.$==1&&!M(r.$0,u)&&(l=[r,r.$0],!0)?l[0]:null})};s.addEventListener("change",i),s.addEventListener("input",i),s.addEventListener("keypress",i)},s=>{const i=t(s);return u=>u==null?null:i(u.$0)},K(s=>r!=null&&r.$==1&&M(r.$0,s)&&(r.$0,!0)?null:b(s),n.View)]}function gu(){return j.StringSet}function wu(){return j.StringGet}function mu(){return j.StringListSet}function yu(){return j.StringListGet}function bu(){return j.DateTimeSetUnchecked}function vu(){return j.DateTimeGetUnchecked}function Nu(e,t,n){let r;return r=null,[s=>{s.addEventListener("change",()=>{n.UpdateMaybe(i=>{let u;return r=e(s),r!=null&&r.$==1&&r.$0!==i&&(u=[r,r.$0],!0)?u[0]:null})})},s=>{const i=t(s);return u=>u==null?null:i(u.$0)},K(s=>r!=null&&r.$==1&&M(r.$0,s)&&(r.$0,!0)?null:b(s),n.View)]}function Cu(){return j.FileSetUnchecked}function Au(){return j.FileGetUnchecked}function xu(){return j.IntSetUnchecked}function Tu(){return j.IntGetUnchecked}function Su(){return j.IntSetChecked}function Du(){return j.IntGetChecked}function Eu(){return j.FloatSetUnchecked}function ku(){return j.FloatGetUnchecked}function Mu(){return j.FloatSetChecked}function Ou(){return j.FloatGetChecked}function Gu(){return j.StringApply}function Fu(){return j.FloatApplyUnchecked}function Iu(){return j.BoolCheckedApply}function Lu(){return j.DateTimeApplyUnchecked}function Uu(){return j.FileApplyUnchecked}function Hu(){return j.StringListApply}function jt(e){return qi(Xu,e)}class it{get Input(){return this.$==1?this.$0:this.$==2?this.$0:this.$1}static Blank(t){return ct(it,{$:2,$0:t})}static Invalid(t){return ct(it,{$:1,$0:t})}static Valid(t,n){return ct(it,{$:0,$0:t,$1:n})}}class Yu extends J{constructor(){super();c(this,"init");c(this,"c");c(this,"pending");c(this,"r");this.c=!1,this.pending=null,this.r=[],this.init=1}}function Ru(e,t){let n;if(t!=null&&t.$==1){const r=[];for(n=t.$0[0].nextSibling;n!==t.$0[1];)r.push(n),n=n.nextSibling;return be(r)}else{let r=e.childNodes.length;const s=e.childNodes;let i=us(r,u=>s[u]);return be(i)}}function qu(e,t){const n=e.$0;return be(re(r=>An(s=>r!==s,n),t.$0))}function ju(e,t){st(e,t.$0)}function Zu(e){const t=[];function n(r){for(;;)if(r!=null&&r.$==2)r=r.$0.Current;else{if(r!=null&&r.$==1)return t.push(r.$0.El);if(r==null)return null;if(r!=null&&r.$==5)return t.push(r.$0);if(r!=null&&r.$==4)return t.push(r.$0.Text);if(r!=null&&r.$==6){const s=r.$0.Els;return(i=>u=>{st(i,u)})(i=>{i==null||i.constructor===Object?n(i):t.push(i)})(s)}else{const s=r.$1,i=r.$0;n(i),r=s}}}return n(e.Children),be(Se(t))}function be(e){return{$:0,$0:e}}function Xu(e){return e.match(new RegExp("\\s"))!==null}function _u(e){const t=Date.parse(e);return isNaN(t)?null:b(t)}function Pu(e,t,n,r){const s=+e,i=s===s-s%1&&s>=t&&s<=n;return i&&r.set(s),i}class Ku extends Error{constructor(n,r,s,i){var t=(...rl)=>(super(...rl),c(this,"ct"),this);let u;if(n=="New"&&(u=r,n="New_1",r="The operation was canceled.",s=null,i=u),n=="New_1"){const l=r,a=s,d=i;t(l),this.inner=a,this.ct=d}}static New(n){return new this("New",n)}static New_1(n,r,s){return new this("New_1",n,r,s)}}function Bu(e){return Wu(!1,e,zu)}function zu(){const e=this.v();return this.c=!0,this.v=e,this.f=Ju,e}function Ju(){return this.v}let er=ht(e=>{var t;return t=class{},er=e(t),c(t,"Empty"),t.Empty={$:0},t});function Qu(e){e.splice(0,Z(e))}function Wu(e,t,n){return{c:e,v:t,f:n}}or(()=>{wr()});cr();
